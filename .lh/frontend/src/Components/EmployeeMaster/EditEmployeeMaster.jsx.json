{
    "sourceFile": "frontend/src/Components/EmployeeMaster/EditEmployeeMaster.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1703655359247,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1703655406957,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,1325 @@\n+import React, { useEffect, useState } from \"react\";\r\n+import { toast } from \"react-toastify\";\r\n+import { getallemployeetype } from \"../../Apicalls/Employeetype\";\r\n+import { getallpost } from \"../../Apicalls/Post\";\r\n+import { getallSalary } from \"../../Apicalls/salarymaster\";\r\n+import { editemployeemaster } from \"../../Apicalls/EmployeeMater\";\r\n+import Employeemasterlist from \"./Employeemasterlist\";\r\n+function EditEmployeeMaster({ closeEdit, item, setData, Data, show, setshow }) {\r\n+  console.log(item,\"item\");\r\n+  const [itemdata,setitemdata]=useState(item)\r\n+  const [employeeTypeData, setEmployeeTypeData] = useState([]);\r\n+  const [employeeTypeId, setEmployeeTypeId] = useState(item.EmployeeTypeId._id);\r\n+  const [isemployeeTypeDataFetch, setisEmployeeTypeDataFetch] = useState(false);\r\n+  const [postData, setPostData] = useState([]);\r\n+  const [postId, setPostId] = useState(\"\");\r\n+  const [ispostDataFetched, setIspostDataFetched] = useState(false);\r\n+  const [issalarymasterDataFetched, setIsSalarymasterDataFetched] =useState(false);\r\n+  const [salarymasterData, setSalarymasterData] = useState([]);\r\n+   const [employeeid, setEmployeeId] = useState(item?.employeeid);\r\n+   const [name, setName] = useState(item?.name);\r\n+   const [email, setEmail] = useState(item?.email);\r\n+   const [phone, setPhone] = useState(item?.phone);\r\n+   const [employeeno, setEmployeeno] = useState(item?.employeeno);\r\n+   const [address1, setAddress1] = useState(item?.address1);\r\n+   const [address2, setAddress2] = useState(item?.address2);\r\n+   const [address3, setAddress3] = useState(item?.address3);\r\n+   const [pincode,setPincode]=useState(item?.pincode);\r\n+   const [dateOfRetierment,setDateOfRetierment]=useState(item?.dateOfRetierment);\r\n+\tconst [ageOfRetierment,setAgeOfRetierment]=useState(item?.ageOfRetierment);\r\n+   const [bank, setBank] = useState(item?.bank);\r\n+   const [accountNo, setAccountno] = useState(item?.accountNo);\r\n+   const [branch, setBranch] = useState(item?.branch);\r\n+   const [ifsc, setIfsc] = useState(item?.ifsc);\r\n+   const [panNo, setPanNo] = useState(item?.panNo);\r\n+   const [panName, setPanName] = useState(item?.panName);\r\n+   const [dateOfJoining, setDateOfJoining] = useState(item?.dateOfJoining);\r\n+   const [dateOfBirth, setDateOfBirth] = useState(item?.dateOfBirth);\r\n+   const [guardianname, setGuardianName] = useState(item?.guardianName);\r\n+   const [basicSalary, setBasicSalary] = useState(item?.basicSalary);\r\n+   const [universalAcNo, setUniversalAcNo] = useState(item?.universalAcNo);\r\n+   const [Ipnumber, setIPNumber] = useState(item?.Ipnumber);\r\n+   const [city, setCity] = useState(item?.city);\r\n+   const [country, setCountry] = useState(item?.country);\r\n+   const [tabledata, setTabledata] = useState(item?.tableRow);\r\n+   const [TotalSalary, setTotalSalary] = useState(item?.TotalSalary);\r\n+   const [gender, setGender] = useState(item?.gender);\r\n+   const [allowedleave,setAllowedLeave]=useState(item?.allowedleave);\r\n+   const [employelist, setEmployelist] = useState(false);\r\n+   const [editemployee, setEditemployee] = useState(true);\r\n+  //  const [percentage, setPercentage] = useState(\"\");\r\n+  //  const [calculatePercentage, setCalculatePercentage] = useState(\"\");\r\n+  //  const [secondInputValue, setSecondInputValue] = useState(\"\");\r\n+   const [formdata, setFormdata] = useState(\"\");\r\n+   const [itemid, setitemid] = useState(item._id);\r\n+   const [tablerow, setTablerow] = useState(item?item.tablerow.slice(2):\"\");\r\n+  \r\n+   const [password, setPassword] = useState(item?.password);\r\n+\r\n+   const [totalAmount, setTotalAmount] = useState(0);\r\n+\r\n+   const [salarycomponent,setSalarycomponent]=useState(false)\r\n+\r\n+   \r\n+\tconst [EPFWage,setEPFWage]=useState(\"\");\r\n+\tconst [EPSWage,setEPSWage]=useState(\"\");\r\n+\tconst [EPSContri,setEPSContri]=useState(\"\");\r\n+\tconst[EPFContri,setEPFContri]=useState(\"\");\r\n+\tconst[EPSEPFDiff,setEPSEPFDiff]=useState(\"\");\r\n+\tconst [EDLIWage, setEDLIWage]=useState(\"\");\r\n+\r\n+  \t  \r\n+  const [DAPercentage,setDAPercentage]=useState(item.tablerow[0]?item.tablerow[0].percentage:\"\");\r\n+  const [DAValue,setDAValue]=useState(item.tablerow[0]?item.tablerow[0].value:\"\");\r\n+  const [DAPrice,setDAPrice]=useState(item.tablerow[0]?item.tablerow[0].price:\"\");\r\n+  const [IRPercentage,setIRPercentage]=useState(item.tablerow[1]?item.tablerow[1].percentage:\"\");\r\n+  const [IRValue,setIRValue]=useState(item.tablerow[1]?item.tablerow[1].value:\"\");\r\n+  const [IRPrice,setIRPrice]=useState(item.tablerow[1]?item.tablerow[1].price:\"\");\r\n+\r\n+\r\n+\r\n+\r\n+  const handleDAPercentage = (event)=>{\r\n+   const value= event.target.value;\r\n+   setDAPercentage(value)\r\n+   setDAValue('')\r\n+   }\r\n+   const handleDAValue = (event)=>{\r\n+   const value= event.target.value;\r\n+   setDAValue(value)\r\n+   setDAPercentage('')\r\n+   }\r\n+   const handleIRPercentage = (event)=>{\r\n+   const value= event.target.value;\r\n+   setIRPercentage(value)\r\n+   setIRValue('')\r\n+   }\r\n+   const handleIRValue = (event)=>{\r\n+   const value= event.target.value;\r\n+   setIRValue(value)\r\n+   setIRPercentage('')\r\n+   }\r\n+\r\n+  useEffect(() => {\r\n+\r\n+   // DA row\r\n+   \r\n+   if (DAPercentage !== 0 && !DAValue) {\r\n+     const price = (basicSalary * DAPercentage) / 100;\r\n+     setDAPrice(price);\r\n+   }\r\n+   \r\n+   else if (DAValue !== 0 && !DAPercentage) {\r\n+     const prices = DAValue;\r\n+     console.log(\"Priceeeeeeeeeee\",prices);\r\n+     setDAPrice(prices);\r\n+   }\r\n+\r\n+   // IR row\r\n+   \r\n+   if (IRPercentage !== 0 && !IRValue  ) {\r\n+     const price = (basicSalary * IRPercentage) / 100;\r\n+     setIRPrice(price);\r\n+   }\r\n+   \r\n+   else if (IRValue !== 0 && !IRPercentage) {\r\n+     const prices = IRValue;\r\n+     console.log(\"Priceeeeeeeeeee\",prices);\r\n+     setIRPrice(prices);\r\n+   }\r\n+   }, [DAPercentage, DAValue, basicSalary,IRPercentage,IRValue]);\r\n+\r\n+\r\n+  const handlemployeetypeclick = async () => {\r\n+    try {\r\n+      if (!isemployeeTypeDataFetch) {\r\n+        const response = await getallemployeetype();\r\n+        if (response.success) {\r\n+          setEmployeeTypeData(response.data);\r\n+        } else {\r\n+          setEmployeeTypeData([]);\r\n+        }\r\n+      }\r\n+      setisEmployeeTypeDataFetch(true);\r\n+    } catch (error) {\r\n+      toast.error(error.message);\r\n+    }\r\n+  };\r\n+\r\n+ \r\n+  const handleemployeetypechange = (event) => {\r\n+    setEmployeeTypeId(event.target.value);\r\n+    console.log(employeeTypeId,\"iddddddddd\");\r\n+   \r\n+  };\r\n+\r\n+\r\n+  useEffect(()=>{\r\n+    if (employeeTypeId == \"6566be7b0085f19cfbfd00c1\"){\r\n+\t\t\tsetSalarycomponent(true)\r\n+\t\t}else{\r\n+\t\t\tsetSalarycomponent(false)\r\n+\t\t}\r\n+\r\n+  },[employeeTypeId])\r\n+\r\n+\r\n+  const handlePostClick = async () => {\r\n+    try {\r\n+      if (!ispostDataFetched) {\r\n+        const response = await getallpost();\r\n+        if (response.success) {\r\n+          setPostData(response.data);\r\n+        } else {\r\n+          setPostData([]);\r\n+        }\r\n+      }\r\n+      setIspostDataFetched(true);\r\n+    } catch (error) {\r\n+      toast.error(error.message);\r\n+    }\r\n+  };\r\n+  const handlePostChange = (event) => {\r\n+    setPostId(event.target.value);\r\n+  };\r\n+\r\n+\r\n+\r\n+  const handlesalarymasterclick = async () => {\r\n+    try {\r\n+      if (!issalarymasterDataFetched) {\r\n+        const response = await getallSalary();\r\n+        if (response.success) {\r\n+          setSalarymasterData(response.data);\r\n+        } else {\r\n+          setSalarymasterData([]);\r\n+        }\r\n+      }\r\n+      setIsSalarymasterDataFetched(true);\r\n+    } catch (error) {\r\n+      toast.error(error.message);\r\n+    }\r\n+  };\r\n+\r\n+  useEffect(()=>{\r\n+\thandlesalarymasterclick()\r\n+  },[])\r\n+\r\n+\r\n+  const handlesalarymasterchange = (event, index) => {\r\n+    const updatedTableRows = [...tablerow];\r\n+    console.log(updatedTableRows,\"tablerow updated\");\r\n+    setDAPrice(updatedTableRows[0].price)\r\n+    setIRPrice(updatedTableRows[1].price)\r\n+    updatedTableRows[index] = {\r\n+      ...updatedTableRows[index],\r\n+      salaryComponent: event.target.value,\r\n+    };\r\n+    setTablerow(updatedTableRows); // Update the state with the modified rows\r\n+  };\r\n+ \r\n+\r\n+\r\n+  const handleAddRow = () => {\r\n+    const newRow = {\r\n+        id: tablerow.length + 1,\r\n+        salaryComponent: \"\",\r\n+        percentage: \"\",\r\n+        value: \"\",\r\n+        price: \"\",\r\n+  };\r\n+    setTablerow([...tablerow, newRow]);\r\n+   \r\n+  };\r\n+\r\n+\r\n+  const handleRemoveRow = (id) => {\r\n+    setTablerow((prevRows) => prevRows.filter((row) => row.id !== id));\r\n+  };\r\n+\r\n+   \r\n+\r\n+\r\n+    const handleBasicSalaryChange = (newBasicSalary) => {\r\n+      setBasicSalary(newBasicSalary);\r\n+      // Recalculate prices for all rows based on the new basicSalary\r\n+      const updatedTablerow = tablerow.map((row) => {\r\n+        // Calculate the new price based on percentage and fallback to value if percentage is not available\r\n+        const newPrice = Number(row.percentage || 0)\r\n+          ? (Number(newBasicSalary) * Number(row.percentage)) / 100\r\n+          : Number(row.value || 0);\r\n+        return { ...row, price: newPrice };\r\n+      });\r\n+    \r\n+      setTablerow(updatedTablerow);\r\n+    };\r\n+\r\n+    const calculateRetirementDate = () => {\r\n+      if (dateOfBirth && ageOfRetierment) {\r\n+        const dob = new Date(dateOfBirth);\r\n+        const retirementYear = dob.getFullYear() + parseInt(ageOfRetierment, 10);\r\n+      \r\n+        // Set the retirementDateCalc to the last day of the retirement month\r\n+        const retirementDateCalc = new Date(retirementYear, dob.getMonth() + 1, 0);\r\n+      \r\n+        // Get the local date components and format as YYYY-MM-DD\r\n+        const formattedRetirementDate = `${retirementDateCalc.getFullYear()}-${('0' + (retirementDateCalc.getMonth() + 1)).slice(-2)}-${('0' + retirementDateCalc.getDate()).slice(-2)}`;\r\n+      \r\n+        setDateOfRetierment(formattedRetirementDate);\r\n+      } else {\r\n+        setDateOfRetierment('');\r\n+      }\r\n+      };\r\n+    \r\n+      useEffect(() => {\r\n+      calculateRetirementDate();\r\n+      }, [dateOfBirth, ageOfRetierment]);\r\n+\r\n+\r\n+useEffect(() => {\r\n+try {\r\n+  const totalAmount = tablerow.reduce((acc, row) => {\r\n+    const salaryType = salarymasterData.find(\r\n+      (item) =>\r\n+        item._id === row.salaryComponent?._id || item._id === row.salaryComponent\r\n+    );\r\n+\r\n+    if (salaryType && (salaryType.type === 'Increment' || salaryType.type === 'Decrement')) {\r\n+      const price = parseFloat(row.price);\r\n+\r\n+      if (!isNaN(price)) {\r\n+        // Check if the parsed price is a valid number\r\n+        return acc + (salaryType.type === 'Increment' ? price : -price);\r\n+      } else {\r\n+        console.error('Invalid price for row:', row);\r\n+      }\r\n+    }\r\n+    return acc;\r\n+  }, parseFloat(basicSalary)+ parseFloat(DAPrice) + parseFloat(IRPrice) );\r\n+\r\n+  if (!isNaN(totalAmount)) {\r\n+    // Check if the calculated totalAmount is a valid number\r\n+    setitemdata({\r\n+      ...itemdata,\r\n+      TotalSalary: totalAmount,\r\n+    });\r\n+  } else {\r\n+    console.error('Invalid totalAmount:', totalAmount);\r\n+  }\r\n+} catch (error) {\r\n+  console.error('Error in useEffect:', error);\r\n+}\r\n+  }, [tablerow, basicSalary, salarymasterData,DAPrice,IRPrice]);\r\n+\r\n+\r\n+\r\n+  useEffect(() => {\r\n+\r\n+    if(employeeTypeId === \"6566be7b0085f19cfbfd00c1\" && basicSalary ){\r\n+      const EPF = parseFloat(basicSalary) + parseFloat(DAPrice) + parseFloat(IRPrice)\r\n+      setEPFWage(EPF)\r\n+    }else{\r\n+      setEPFWage('')\r\n+    };\r\n+  \r\n+\r\n+\r\n+  const joiningDate = new Date(dateOfJoining);\r\n+      const comparisonDate = new Date('2014-01-01');\r\n+\r\n+    if (employeeTypeId === \"6566be7b0085f19cfbfd00c1\" && (joiningDate >= comparisonDate)) {\r\n+      setEPSWage(0);\r\n+    } else if (employeeTypeId === \"6566be7b0085f19cfbfd00c1\" && (totalAmount >= 15000)) {\r\n+      setEPSWage(15000);\r\n+    } else if(employeeTypeId === \"6566be7b0085f19cfbfd00c1\" && (totalAmount < 15000)) {\r\n+      setEPSWage(totalAmount);\r\n+    }else{\r\n+      setEPSWage('')\r\n+    };\r\n+  \r\n+\r\n+    if(employeeTypeId === \"6566be7b0085f19cfbfd00c1\" &&(totalAmount >= 15000)){\r\n+      setEDLIWage(15000)\r\n+    }else if(employeeTypeId === \"6566be7b0085f19cfbfd00c1\" &&(totalAmount < 15000)){\r\n+      setEDLIWage(totalAmount)\r\n+    }else{\r\n+      setEDLIWage('')\r\n+    }\r\n+\r\n+    console.log(EPFWage,\":EPF WAGE\");\r\n+    console.log(EPSWage,\":Eps WAGE\");\r\n+    console.log(dateOfJoining);\r\n+    console.log(EDLIWage,\":EDLI WAGE\");\r\n+\r\n+    }, [totalAmount, dateOfJoining,EPSWage,EPFWage,EDLIWage]);\r\n+    \r\n+\r\n+ \r\n+\r\n+  const handleSecondInputChange = (index, value) => {\r\n+    const updatedTableRows = [...tablerow];\r\n+    updatedTableRows[index].percentage = \"\";\r\n+    updatedTableRows[index].value = value.trim() !== \"\" ? Number(value) : \"\";\r\n+    const newPrice = value.trim() !== \"\" ? value : \"\";\r\n+    updatedTableRows[index].price = newPrice;\r\n+    setTablerow(updatedTableRows);\r\n+    setIRPrice(updatedTableRows[1].price)\r\n+    setDAPrice(updatedTableRows[0].price)\r\n+  };\r\n+\r\n+  const   handleChange = (index, percentage) => {\r\n+    const updatedTableRows = [...tablerow];\r\n+    updatedTableRows[index].percentage = Number(percentage);\r\n+\r\n+    // Reset second field's value when first field is updated\r\n+    updatedTableRows[index].value = \"\";\r\n+\r\n+    // Recalculate the price based on the updated percentage and basic salary\r\n+    const newPrice = basicSalary\r\n+      ? (basicSalary * Number(percentage)) / 100\r\n+      : \"\";\r\n+    updatedTableRows[index].price = newPrice || \"\";\r\n+\r\n+    setTablerow(updatedTableRows);\r\n+    setIRPrice(updatedTableRows[1].price)\r\n+    setDAPrice(updatedTableRows[0].price)\r\n+  };\r\n+\r\n+ \r\n+  const handleclicktable = () => {\r\n+    setEditemployee(false);\r\n+    setEmployelist(true);\r\n+  };\r\n+\r\n+\r\n+  const handleclick = async (event) => {\r\n+    event.preventDefault(); // Prevent default form submission\r\n+\r\n+    // Prepare formData with all necessary fields\r\n+    const formData = {\r\n+      name,\r\n+      email,\r\n+      phone,\r\n+      gender,\r\n+      employeeno,\r\n+      address1,\r\n+      address2,\r\n+      address3,\r\n+      pincode,\r\n+      bank,\r\n+      accountNo,\r\n+      ifsc,\r\n+      branch,\r\n+      panNo,\r\n+      panName,\r\n+      dateOfJoining,\r\n+      dateOfBirth,\r\n+      ageOfRetirement:ageOfRetierment,\r\n+      dateOfRetirement: dateOfRetierment,\r\n+      guardianname,\r\n+      basicSalary,\r\n+\t  allowedleave,\r\n+    previousAllowedleave:allowedleave,\r\n+      universalAcNo,\r\n+      Ipnumber,\r\n+      city,\r\n+      country,\r\n+      password,\r\n+      tablerow,\r\n+      TotalSalary:itemdata.TotalSalary\r\n+    };\r\n+   \r\n+    // Update Data array if itemid matches\r\n+    const updatedData = Data.map((dataItem) => {\r\n+      if (dataItem._id === item._id) {\r\n+        return { ...dataItem, name: formData.name }; // Update the relevant field here\r\n+      }\r\n+      return dataItem;\r\n+    });\r\n+    setData(updatedData);\r\n+\r\n+    formData._id = itemid;\r\n+    try {\r\n+      // const tablerowValue = formData.tablerow?.price;\r\n+      // if (!tablerowValue) {\r\n+      //   toast.error(\"Add atl \")\r\n+      //   return;\r\n+      // }\r\n+      // console.log(formData,\"dataaaaaaaaaaashahid\");\r\n+      formData.tablerow = (tablerow && Array.isArray(tablerow) && tablerow.length === 1 &&\r\n+      tablerow[0].value === '' &&\r\n+      tablerow[0].percentage === '' &&\r\n+      tablerow[0].price === '')\r\n+      ? []\r\n+      : (tablerow || []);\r\n+      const response = await editemployeemaster(formData);\r\n+      if (response.success) {\r\n+        toast.success(response.message);\r\n+        setEditemployee(false);\r\n+        setEmployelist(true);\r\n+        // Update any state or flags to manage component visibility\r\n+        // For example, setVisibility(false);\r\n+      } else {\r\n+        toast.error(response.message);\r\n+      }\r\n+    } catch (err) {\r\n+      toast.error(err.message);\r\n+    }\r\n+  };\r\n+console.log(DAPrice,\"DAPRICEEE\");\r\n+console.log(IRPrice,\"IRPRICE\");\r\n+console.log(employeeTypeId,\":employeetypeid\");\r\n+\r\n+\r\n+\r\n+  return (\r\n+    <div>\r\n+      {editemployee && (\r\n+        <div>\r\n+          <button\r\n+            className=\"btn btn-primary submit-form mb-3  \"\r\n+            onClick={handleclicktable}\r\n+          >\r\n+            View Table\r\n+          </button>\r\n+          <div className=\"row\">\r\n+            <div className=\"col-sm-12\">\r\n+              <div className=\"card\">\r\n+                <div className=\"card-body\">\r\n+                  <form onSubmit={handleclick}>\r\n+                    <div className=\"row\">\r\n+                      <div className=\"col-12\">\r\n+                        <div className=\"form-heading\">\r\n+                          <h4>Employee Master</h4>\r\n+                        </div>\r\n+                      </div>\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>Employee Id</label>\r\n+                          <input\r\n+                            className=\"form-control\"\r\n+                            type=\"text\"\r\n+                            placeholder=\"\"\r\n+                            value={employeeid}\r\n+                            style={{ backgroundColor: \"#cbd0d6\" }}\r\n+                            readOnly\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Name <span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+\r\n+                          <input\r\n+                            className={`form-control`}\r\n+                            type=\"text\"\r\n+                            placeholder=\"\"\r\n+                            value={name}\r\n+                            onChange={(e) => setName(e.target.value)}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Employee Type<span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+\r\n+                          <select\r\n+                            className=\"form-control select\"\r\n+                            onKeyDown={handlemployeetypeclick}\r\n+                            onMouseEnter={handlemployeetypeclick}\r\n+                            onChange={handleemployeetypechange}\r\n+                            onclick={handleemployeetypechange}\r\n+                          >\r\n+                            <option value={employeeTypeId}>\r\n+                              {item.EmployeeTypeId.name}\r\n+                            </option>\r\n+                            {employeeTypeData.map((option) => (\r\n+                              <option value={option._id} key={option._id}>\r\n+                                {option.name}\r\n+                              </option>\r\n+                            ))}\r\n+                          </select>\r\n+                        </div>\r\n+                      </div>\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Post<span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+\r\n+                          <select\r\n+                            className=\"form-control select  \"\r\n+                            onKeyDown={handlePostClick}\r\n+                            onMouseEnter={handlePostClick}\r\n+                            onChange={handlePostChange}\r\n+                          >\r\n+                            <option value={item.PostId._id}>\r\n+                              {item.PostId.designation}\r\n+                            </option>\r\n+                            {postData.map((option) => (\r\n+                              <option value={option._id} key={option._id}>\r\n+                                {option.designation}\r\n+                              </option>\r\n+                            ))}\r\n+                          </select>\r\n+                        </div>\r\n+                      </div>\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Employee No <span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+\r\n+                          <input\r\n+                            className={`form-control`}\r\n+                            type=\"text\"\r\n+                            placeholder=\"\"\r\n+                            value={employeeno}\r\n+                            onChange={(e) => setEmployeeno(e.target.value)}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Address-1 <span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+\r\n+                          <input\r\n+                            onChange={(e) => setAddress1(e.target.value)}\r\n+                            className={`form-control `}\r\n+                            type=\"text\"\r\n+                            placeholder=\"\"\r\n+                            value={address1}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Address-2 <span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+\r\n+                          <input\r\n+                            onChange={(e) => setAddress2(e.target.value)}\r\n+                            className={`form-control `}\r\n+                            type=\"text\"\r\n+                            placeholder=\"\"\r\n+                            value={address2}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Address-3 <span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+\r\n+                          <input\r\n+                            value={address3}\r\n+                            className={`form-control`}\r\n+                            type=\"text\"\r\n+                            placeholder=\"\"\r\n+                            onChange={(e) => setAddress3(e.target.value)}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Pincode <span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+\r\n+                          <input\r\n+                            value={pincode}\r\n+                            className={`form-control`}\r\n+                            type=\"number\"\r\n+                            placeholder=\"\"\r\n+                            onChange={(e) => setPincode(e.target.value)}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group select-gender\">\r\n+                          <label className=\"gen-label\">\r\n+                            Gender<span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+                          <div className=\"form-check-inline\">\r\n+                            <label className=\"form-check-label\">\r\n+                              <input\r\n+                                type=\"radio\"\r\n+                                name={gender}\r\n+                                className=\"form-check-input mt-0\"\r\n+                                value=\"Male\"\r\n+                                onChange={(e) => setGender(e.target.value)}\r\n+                                checked={gender === \"Male\"}\r\n+                              />\r\n+                              Male\r\n+                            </label>\r\n+                          </div>\r\n+                          <div className=\"form-check-inline\">\r\n+                            <label className=\"form-check-label\">\r\n+                              <input\r\n+                                type=\"radio\"\r\n+                                name={gender}\r\n+                                className=\"form-check-input mt-0\"\r\n+                                value=\"Female\"\r\n+                                onChange={(e) => setGender(e.target.value)}\r\n+                                checked={gender === \"Female\"}\r\n+                              />\r\n+                              Female\r\n+                            </label>\r\n+                          </div>\r\n+                          <div className=\"form-check-inline\">\r\n+                            <label className=\"form-check-label\">\r\n+                              <input\r\n+                                type=\"radio\"\r\n+                                name={gender}\r\n+                                className=\"form-check-input mt-0\"\r\n+                                value=\"Others\"\r\n+                                onChange={(e) => setGender(e.target.value)}\r\n+                                checked={gender === \"Others\"}\r\n+                              />\r\n+                              Others\r\n+                            </label>\r\n+                          </div>\r\n+                        </div>\r\n+                      </div>\r\n+\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Email <span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+\r\n+                          <input\r\n+                            value={email}\r\n+                            className={`form-control`}\r\n+                            type=\"text\"\r\n+                            placeholder=\"\"\r\n+                            onChange={(e) => setEmail(e.target.value)}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Phone <span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+\r\n+                          <input\r\n+                            value={phone}\r\n+                            className={`form-control`}\r\n+                            type=\"number\"\r\n+                            placeholder=\"\"\r\n+                            onChange={(e) => {\r\n+                              const onlyNumbers = e.target.value.replace(/[^0-9]/g, ''); // Remove non-numeric characters\r\n+                              if (onlyNumbers.length <= 10) {\r\n+                              setPhone(onlyNumbers);\r\n+                              }\r\n+                            }}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Bank <span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+\r\n+                          <input\r\n+                            onChange={(e) => setBank(e.target.value)}\r\n+                            className={`form-control`}\r\n+                            type=\"text\"\r\n+                            placeholder=\"\"\r\n+                            value={bank}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Account No<span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+\r\n+                          <input\r\n+                            onChange={(e) => setAccountno(e.target.value)}\r\n+                            className={`form-control`}\r\n+                            type=\"text\"\r\n+                            placeholder=\"\"\r\n+                            value={accountNo}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Branch<span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+\r\n+                          <input\r\n+                            onChange={(e) => setBranch(e.target.value)}\r\n+                            className={`form-control`}\r\n+                            type=\"text\"\r\n+                            placeholder=\"\"\r\n+                            value={branch}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            IFSC<span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+\r\n+                          <input\r\n+                            onChange={(e) => setIfsc(e.target.value)}\r\n+                            className={`form-control `}\r\n+                            type=\"text\"\r\n+                            placeholder=\"\"\r\n+                            value={ifsc}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            PAN No<span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+\r\n+                          <input\r\n+                            onChange={(e) => setPanNo(e.target.value)}\r\n+                            className={`form-control `}\r\n+                            type=\"text\"\r\n+                            placeholder=\"\"\r\n+                            value={panNo}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Pan Name<span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+\r\n+                          <input\r\n+                            onChange={(e) => setPanName(e.target.value)}\r\n+                            className={`form-control `}\r\n+                            type=\"text\"\r\n+                            placeholder=\"\"\r\n+                            value={panName}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Guardian Name<span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+\r\n+                          <input\r\n+                            onChange={(e) => setGuardianName(e.target.value)}\r\n+                            className={`form-control`}\r\n+                            type=\"text\"\r\n+                            placeholder=\"\"\r\n+                            value={guardianname}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Date Of Joining\r\n+                            <span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+\r\n+                          <input\r\n+                            onChange={(e) => setDateOfJoining(e.target.value)}\r\n+                            className={`form-control `}\r\n+                            type=\"date\"\r\n+                            placeholder=\"\"\r\n+                            value={dateOfJoining}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+\r\n+                      <div className=\"col-12 col-md-6 col-xl-4\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Date Of Birth<span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+\r\n+                          <input\r\n+                            className={`form-control`}\r\n+                            type=\"date\"\r\n+                            placeholder=\"\"\r\n+                            value={dateOfBirth}\r\n+                            onChange={(e) => setDateOfBirth(e.target.value)}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+                      \r\n+                      <div className=\"col-12 col-md-6 col-xl-4\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Age Of Retirement<span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+\r\n+                          <input\r\n+                            className={`form-control`}\r\n+                            type=\"text\"\r\n+                            placeholder=\"\"\r\n+                            value={ageOfRetierment}\r\n+                            onChange={(e) => setAgeOfRetierment(e.target.value)}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+                      <div className=\"col-12 col-md-6 col-xl-4\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Date Of Retirement<span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+\r\n+                          <input\r\n+                            className={`form-control`}\r\n+                            type=\"date\"\r\n+                            placeholder=\"\"\r\n+                            value={dateOfRetierment}\r\n+                            onChange={(e) => setDateOfRetierment(e.target.value)}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Basic Salary<span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+                          <input\r\n+                            className=\"form-control\"\r\n+                            type=\"number\"\r\n+                            placeholder=\"\"\r\n+                            value={basicSalary}\r\n+                            onChange={(e) => handleBasicSalaryChange(e.target.value)}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+\r\n+\t\t\t\t\t            <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                           Allowed Leave<span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+                          <input\r\n+                            className=\"form-control\"\r\n+                            type=\"number\"\r\n+                            placeholder=\"\"\r\n+                            value={allowedleave}\r\n+                            onChange={(e) => setAllowedLeave(e.target.value)}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Universal Account Number\r\n+                            <span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+                          <input\r\n+                            onChange={(e) => setUniversalAcNo(e.target.value)}\r\n+                            className={`form-control`}\r\n+                            type=\"text\"\r\n+                            placeholder=\"\"\r\n+                            value={universalAcNo}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Ip Number\r\n+                            <span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+                          <input\r\n+                            onChange={(e) => {\r\n+                              const Ipnumbers = e.target.value \r\n+                              if (Ipnumbers.length <= 10) {\r\n+                                setIPNumber(Ipnumbers);\r\n+                              }\r\n+                            }}\r\n+                            className={`form-control`}\r\n+                            type=\"text\"\r\n+                            placeholder=\"\"\r\n+                            value={Ipnumber}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            City <span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+                          <input\r\n+                            onChange={(e) => setCity(e.target.value)}\r\n+                            className={`form-control`}\r\n+                            type=\"text\"\r\n+                            placeholder=\"\"\r\n+                            value={city}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Country <span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+                          <input\r\n+                            onChange={(e) => setCountry(e.target.value)}\r\n+                            className={`form-control`}\r\n+                            type=\"text\"\r\n+                            placeholder=\"\"\r\n+                            value={country}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+\r\n+                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n+                        <div className=\"form-group local-forms\">\r\n+                          <label>\r\n+                            Password <span className=\"login-danger\">*</span>\r\n+                          </label>\r\n+                          <input\r\n+                            onChange={(e) => setPassword(e.target.value)}\r\n+                            className={`form-control`}\r\n+                            type=\"text\"\r\n+                            placeholder=\"\"\r\n+                            value={password}\r\n+                          />\r\n+                        </div>\r\n+                      </div>\r\n+\r\n+                      <div className=\"row\">\r\n+                        {salarycomponent&&\r\n+                        <div className=\"col-md-12\">\r\n+                          <div className=\"card invoices-add-card\">\r\n+                            <div className=\"card-body\">\r\n+                              <div className=\"invoice-add-table\">\r\n+                                <h4>Salary component</h4>\r\n+                                <div className=\"table-responsive\">\r\n+                                  <table className=\"table table-striped table-nowrap  mb-0 no-footer add-table-items\">\r\n+                                    <thead>\r\n+                                      <tr>\r\n+                                        <th>No</th>\r\n+                                        <th>Salary Components</th>\r\n+                                        <th>%</th>\r\n+                                        <th>Value</th>\r\n+                                        <th>Total</th>\r\n+                                        <th></th>\r\n+                                      </tr>\r\n+                                    </thead>\r\n+                                    {salarymasterData[0]&&  <tbody>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={1454}>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" value={ 1} readOnly \r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setRowId1(e.target.value)}/>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select className=\"form-control\"\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// onKeyDown={handlesalarymasterclick}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// onMouseEnter={handlesalarymasterclick}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => handlesalarymasterchange(event, index)}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={salarymasterData[0]._id} key={salarymasterData[0]._id}>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{salarymasterData[0].name}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control `}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"%\"\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// onChange={handleChange}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={DAPercentage}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// value={row.percentage ? row.percentage : ''}\r\n+                                                                        onChange={(e)=>handleDAPercentage(e)}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={DAValue ? DAValue : ''}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => handleDAValue( e)}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" \r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t value={DAPrice?DAPrice:''}\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t readOnly/>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"add-remove text-end\">\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n+\r\n+\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n+\t\t\t\t\t\t\t\t\t\t\t\t      \t\t</tbody>}\r\n+                                  {salarymasterData[0]&&\t<tbody>\r\n+                                  <tr key={235435}>\r\n+                                    <td>\r\n+                                    <input type=\"text\" className=\"form-control\" value={ 2 } readOnly \r\n+                                    onChange={(e) => setRowId2(e.target.value)}/>\r\n+                                    </td>\r\n+                                    <td>\r\n+                                    <select className=\"form-control\"\r\n+                                    // onKeyDown={handlesalarymasterclick}\r\n+                                    // onMouseEnter={handlesalarymasterclick}\r\n+                                    onChange={(event) => handlesalarymasterchange(event, index)}\r\n+                                    >\r\n+                                    \r\n+                                      \r\n+                                        <option value={salarymasterData[1]._id} key={salarymasterData[0]._id}>\r\n+                                          {salarymasterData[1].name}\r\n+                                        </option>\r\n+                                      \r\n+                                      \r\n+                                    </select>\r\n+                                    </td>\r\n+                                    \r\n+                                    <td>\r\n+                                    <input\r\n+                                        \r\n+                                        type=\"number\"\r\n+                                        className={`form-control`}\r\n+                                        placeholder=\"%\"\r\n+                                        // onChange={handleChange}\r\n+                                        value={IRPercentage}\r\n+                                        // value={row.percentage ? row.percentage : ''}\r\n+                                                                            onChange={(e) => handleIRPercentage(e)}\r\n+                                        />\r\n+                                      \r\n+                                       \r\n+                                  </td>\r\n+                                    <td>\r\n+                                    <input\r\n+                                      type=\"text\"\r\n+                                      className=\"form-control\"\r\n+                                      value={IRValue}\r\n+                                      onChange={(e) => handleIRValue(e)}\r\n+                                      \r\n+                                    />\r\n+                                    </td>\r\n+                                    <td>\r\n+                                    <input type=\"text\" className=\"form-control\" \r\n+                                    value={IRPrice?IRPrice:''}\r\n+                                    readOnly/>\r\n+                                    </td>\r\n+                                    <td className=\"add-remove text-end\">\r\n+                                    \r\n+                                    \r\n+                                    \r\n+                                    </td>\r\n+                                  </tr>\r\n+                                </tbody>}\r\n+                                    <tbody>\r\n+                                      {tablerow.map((row, index) => (\r\n+                                        <tr key={row.id}>\r\n+                                          <td>\r\n+                                            <input\r\n+                                              type=\"text\"\r\n+                                              className=\"form-control\"\r\n+                                              value={index + 1}\r\n+                                              readOnly\r\n+                                            />\r\n+                                          </td>\r\n+                                          <td>\r\n+                                            <select\r\n+                                              className=\"form-control\"\r\n+                                            //   onMouseEnter={\r\n+                                            //     handlesalarymasterclick\r\n+                                            //   }\r\n+                                              onChange={(event) =>\r\n+                                                handlesalarymasterchange(\r\n+                                                  event,\r\n+                                                  index\r\n+                                                )\r\n+                                              }\r\n+                                            >\r\n+                                              <option\r\n+                                                value={row._id}\r\n+                                                key={row._id}\r\n+                                              >\r\n+                                                {row.salaryComponent.name}\r\n+                                              </option>\r\n+                                              {salarymasterData.map(\r\n+                                                (option) => (\r\n+                                                  <option\r\n+                                                    value={option._id}\r\n+                                                    key={option._id}\r\n+                                                  >\r\n+                                                    {option.name}\r\n+                                                  </option>\r\n+                                                )\r\n+                                              )}\r\n+                                            </select>\r\n+                                          </td>\r\n+\r\n+                                          <td>\r\n+                                            <input\r\n+                                              type=\"number\"\r\n+                                              className={`form-control`}\r\n+                                              placeholder=\"%\"\r\n+                                              // onChange={handleChange}\r\n+                                              // value={percentage}\r\n+                                              value={\r\n+                                                row.percentage\r\n+                                                  ? row.percentage\r\n+                                                  : \"\"\r\n+                                              }\r\n+                                              onChange={(e) =>\r\n+                                                handleChange(\r\n+                                                  index,\r\n+                                                  e.target.value\r\n+                                                )\r\n+                                              }\r\n+                                            />\r\n+                                          </td>\r\n+                                          <td>\r\n+                                            <input\r\n+                                              type=\"text\"\r\n+                                              className=\"form-control\"\r\n+                                              value={row.value ? row.value : \"\"}\r\n+                                              onChange={(e) =>\r\n+                                                handleSecondInputChange(\r\n+                                                  index,\r\n+                                                  e.target.value\r\n+                                                )\r\n+                                              }\r\n+                                            />\r\n+                                          </td>\r\n+                                          <td>\r\n+                                            <input\r\n+                                              type=\"text\"\r\n+                                              className=\"form-control\"\r\n+                                              value={row.price ? row.price : \"\"}\r\n+                                              readOnly\r\n+                                            />\r\n+                                          </td>\r\n+                                          <td className=\"add-remove text-end\">\r\n+                                            <a\r\n+                                              href=\"javascript:void(0);\"\r\n+                                              className=\"me-2\"\r\n+                                              onClick={handleAddRow}\r\n+                                            >\r\n+                                              <i className=\"fas fa-plus-circle\"></i>\r\n+                                            </a>\r\n+\r\n+                                            <a\r\n+                                              href=\"javascript:void(0);\"\r\n+                                              className=\"remove-btn\"\r\n+                                              onClick={() =>\r\n+                                                handleRemoveRow(row.id)\r\n+                                              }\r\n+                                            >\r\n+                                              <i className=\"fa fa-trash-alt\"></i>\r\n+                                            </a>\r\n+                                          </td>\r\n+                                        </tr>\r\n+                                      ))}\r\n+\r\n+                                      {tablerow.length === 0 &&\r\n+                                        setTablerow((prevRows) => [\r\n+                                          ...prevRows,\r\n+                                          {\r\n+                                            id: tablerow.length+1,\r\n+                                            salaryComponent: \"\",\r\n+                                            percentage: \"\",\r\n+                                            value: \"\",\r\n+                                            price: \"\",\r\n+                                          },\r\n+                                        ])}\r\n+                                    </tbody>\r\n+                                    <tfoot>\r\n+                                      <tr>\r\n+                                        <td colSpan=\"5\" className=\"text-end\">\r\n+                                          <strong>Total Amount:</strong>\r\n+                                        </td>\r\n+                                        <td>\r\n+                                          <input\r\n+                                            className=\"form-control\"\r\n+                                            type=\"number\"\r\n+                                           value={itemdata?.TotalSalary}\r\n+                                            readOnly\r\n+                                          />\r\n+                                          {/* Display the total amount here */}\r\n+                                          {/* You can use the 'calculateTotalAmount' function to get the total */}\r\n+                                        </td>\r\n+                                      </tr>\r\n+                                    </tfoot>\r\n+                                  </table>\r\n+                                </div>\r\n+                              </div>\r\n+                            </div>\r\n+                          </div>\r\n+                        </div>}\r\n+                      </div>\r\n+                      <div className=\"col-12\">\r\n+                        <div className=\"doctor-submit text-end\">\r\n+                          <button\r\n+                            type=\"submit\"\r\n+                            className=\"btn btn-primary submit-form me-2\"\r\n+                          >\r\n+                            Submit\r\n+                          </button>\r\n+                          <button\r\n+                            type=\"submit\"\r\n+                            className=\"btn btn-primary cancel-form\"\r\n+                          >\r\n+                            Cancel\r\n+                          </button>\r\n+                        </div>\r\n+                      </div>\r\n+                    </div>\r\n+                  </form>\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n+\r\n+      {employelist && (\r\n+        <Employeemasterlist formdata={formdata} setformdata={setFormdata} />\r\n+      )}\r\n+    </div>\r\n+  );\r\n+}\r\n+\r\n+export default EditEmployeeMaster;\r\n"
                },
                {
                    "date": 1704436155756,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -214,9 +214,9 @@\n     updatedTableRows[index] = {\r\n       ...updatedTableRows[index],\r\n       salaryComponent: event.target.value,\r\n     };\r\n-    setTablerow(updatedTableRows); // Update the state with the modified rows\r\n+    setTablerow(updatedTableRows);\r\n   };\r\n  \r\n \r\n \r\n@@ -1322,1328 +1322,4 @@\n   );\r\n }\r\n \r\n export default EditEmployeeMaster;\r\n-import React, { useEffect, useState } from \"react\";\r\n-import { toast } from \"react-toastify\";\r\n-import { getallemployeetype } from \"../../Apicalls/Employeetype\";\r\n-import { getallpost } from \"../../Apicalls/Post\";\r\n-import { getallSalary } from \"../../Apicalls/salarymaster\";\r\n-import { editemployeemaster } from \"../../Apicalls/EmployeeMater\";\r\n-import Employeemasterlist from \"./Employeemasterlist\";\r\n-function EditEmployeeMaster({ closeEdit, item, setData, Data, show, setshow }) {\r\n-  console.log(item,\"item\");\r\n-  const [itemdata,setitemdata]=useState(item)\r\n-  const [employeeTypeData, setEmployeeTypeData] = useState([]);\r\n-  const [employeeTypeId, setEmployeeTypeId] = useState(item.EmployeeTypeId._id);\r\n-  const [isemployeeTypeDataFetch, setisEmployeeTypeDataFetch] = useState(false);\r\n-  const [postData, setPostData] = useState([]);\r\n-  const [postId, setPostId] = useState(\"\");\r\n-  const [ispostDataFetched, setIspostDataFetched] = useState(false);\r\n-  const [issalarymasterDataFetched, setIsSalarymasterDataFetched] =useState(false);\r\n-  const [salarymasterData, setSalarymasterData] = useState([]);\r\n-   const [employeeid, setEmployeeId] = useState(item?.employeeid);\r\n-   const [name, setName] = useState(item?.name);\r\n-   const [email, setEmail] = useState(item?.email);\r\n-   const [phone, setPhone] = useState(item?.phone);\r\n-   const [employeeno, setEmployeeno] = useState(item?.employeeno);\r\n-   const [address1, setAddress1] = useState(item?.address1);\r\n-   const [address2, setAddress2] = useState(item?.address2);\r\n-   const [address3, setAddress3] = useState(item?.address3);\r\n-   const [pincode,setPincode]=useState(item?.pincode);\r\n-   const [dateOfRetierment,setDateOfRetierment]=useState(item?.dateOfRetierment);\r\n-\tconst [ageOfRetierment,setAgeOfRetierment]=useState(item?.ageOfRetierment);\r\n-   const [bank, setBank] = useState(item?.bank);\r\n-   const [accountNo, setAccountno] = useState(item?.accountNo);\r\n-   const [branch, setBranch] = useState(item?.branch);\r\n-   const [ifsc, setIfsc] = useState(item?.ifsc);\r\n-   const [panNo, setPanNo] = useState(item?.panNo);\r\n-   const [panName, setPanName] = useState(item?.panName);\r\n-   const [dateOfJoining, setDateOfJoining] = useState(item?.dateOfJoining);\r\n-   const [dateOfBirth, setDateOfBirth] = useState(item?.dateOfBirth);\r\n-   const [guardianname, setGuardianName] = useState(item?.guardianName);\r\n-   const [basicSalary, setBasicSalary] = useState(item?.basicSalary);\r\n-   const [universalAcNo, setUniversalAcNo] = useState(item?.universalAcNo);\r\n-   const [Ipnumber, setIPNumber] = useState(item?.Ipnumber);\r\n-   const [city, setCity] = useState(item?.city);\r\n-   const [country, setCountry] = useState(item?.country);\r\n-   const [tabledata, setTabledata] = useState(item?.tableRow);\r\n-   const [TotalSalary, setTotalSalary] = useState(item?.TotalSalary);\r\n-   const [gender, setGender] = useState(item?.gender);\r\n-   const [allowedleave,setAllowedLeave]=useState(item?.allowedleave);\r\n-   const [employelist, setEmployelist] = useState(false);\r\n-   const [editemployee, setEditemployee] = useState(true);\r\n-  //  const [percentage, setPercentage] = useState(\"\");\r\n-  //  const [calculatePercentage, setCalculatePercentage] = useState(\"\");\r\n-  //  const [secondInputValue, setSecondInputValue] = useState(\"\");\r\n-   const [formdata, setFormdata] = useState(\"\");\r\n-   const [itemid, setitemid] = useState(item._id);\r\n-   const [tablerow, setTablerow] = useState(item?item.tablerow.slice(2):\"\");\r\n-  \r\n-   const [password, setPassword] = useState(item?.password);\r\n-\r\n-   const [totalAmount, setTotalAmount] = useState(0);\r\n-\r\n-   const [salarycomponent,setSalarycomponent]=useState(false)\r\n-\r\n-   \r\n-\tconst [EPFWage,setEPFWage]=useState(\"\");\r\n-\tconst [EPSWage,setEPSWage]=useState(\"\");\r\n-\tconst [EPSContri,setEPSContri]=useState(\"\");\r\n-\tconst[EPFContri,setEPFContri]=useState(\"\");\r\n-\tconst[EPSEPFDiff,setEPSEPFDiff]=useState(\"\");\r\n-\tconst [EDLIWage, setEDLIWage]=useState(\"\");\r\n-\r\n-  \t  \r\n-  const [DAPercentage,setDAPercentage]=useState(item.tablerow[0]?item.tablerow[0].percentage:\"\");\r\n-  const [DAValue,setDAValue]=useState(item.tablerow[0]?item.tablerow[0].value:\"\");\r\n-  const [DAPrice,setDAPrice]=useState(item.tablerow[0]?item.tablerow[0].price:\"\");\r\n-  const [IRPercentage,setIRPercentage]=useState(item.tablerow[1]?item.tablerow[1].percentage:\"\");\r\n-  const [IRValue,setIRValue]=useState(item.tablerow[1]?item.tablerow[1].value:\"\");\r\n-  const [IRPrice,setIRPrice]=useState(item.tablerow[1]?item.tablerow[1].price:\"\");\r\n-\r\n-\r\n-\r\n-\r\n-  const handleDAPercentage = (event)=>{\r\n-   const value= event.target.value;\r\n-   setDAPercentage(value)\r\n-   setDAValue('')\r\n-   }\r\n-   const handleDAValue = (event)=>{\r\n-   const value= event.target.value;\r\n-   setDAValue(value)\r\n-   setDAPercentage('')\r\n-   }\r\n-   const handleIRPercentage = (event)=>{\r\n-   const value= event.target.value;\r\n-   setIRPercentage(value)\r\n-   setIRValue('')\r\n-   }\r\n-   const handleIRValue = (event)=>{\r\n-   const value= event.target.value;\r\n-   setIRValue(value)\r\n-   setIRPercentage('')\r\n-   }\r\n-\r\n-  useEffect(() => {\r\n-\r\n-   // DA row\r\n-   \r\n-   if (DAPercentage !== 0 && !DAValue) {\r\n-     const price = (basicSalary * DAPercentage) / 100;\r\n-     setDAPrice(price);\r\n-   }\r\n-   \r\n-   else if (DAValue !== 0 && !DAPercentage) {\r\n-     const prices = DAValue;\r\n-     console.log(\"Priceeeeeeeeeee\",prices);\r\n-     setDAPrice(prices);\r\n-   }\r\n-\r\n-   // IR row\r\n-   \r\n-   if (IRPercentage !== 0 && !IRValue  ) {\r\n-     const price = (basicSalary * IRPercentage) / 100;\r\n-     setIRPrice(price);\r\n-   }\r\n-   \r\n-   else if (IRValue !== 0 && !IRPercentage) {\r\n-     const prices = IRValue;\r\n-     console.log(\"Priceeeeeeeeeee\",prices);\r\n-     setIRPrice(prices);\r\n-   }\r\n-   }, [DAPercentage, DAValue, basicSalary,IRPercentage,IRValue]);\r\n-\r\n-\r\n-  const handlemployeetypeclick = async () => {\r\n-    try {\r\n-      if (!isemployeeTypeDataFetch) {\r\n-        const response = await getallemployeetype();\r\n-        if (response.success) {\r\n-          setEmployeeTypeData(response.data);\r\n-        } else {\r\n-          setEmployeeTypeData([]);\r\n-        }\r\n-      }\r\n-      setisEmployeeTypeDataFetch(true);\r\n-    } catch (error) {\r\n-      toast.error(error.message);\r\n-    }\r\n-  };\r\n-\r\n- \r\n-  const handleemployeetypechange = (event) => {\r\n-    setEmployeeTypeId(event.target.value);\r\n-    console.log(employeeTypeId,\"iddddddddd\");\r\n-   \r\n-  };\r\n-\r\n-\r\n-  useEffect(()=>{\r\n-    if (employeeTypeId == \"6566be7b0085f19cfbfd00c1\"){\r\n-\t\t\tsetSalarycomponent(true)\r\n-\t\t}else{\r\n-\t\t\tsetSalarycomponent(false)\r\n-\t\t}\r\n-\r\n-  },[employeeTypeId])\r\n-\r\n-\r\n-  const handlePostClick = async () => {\r\n-    try {\r\n-      if (!ispostDataFetched) {\r\n-        const response = await getallpost();\r\n-        if (response.success) {\r\n-          setPostData(response.data);\r\n-        } else {\r\n-          setPostData([]);\r\n-        }\r\n-      }\r\n-      setIspostDataFetched(true);\r\n-    } catch (error) {\r\n-      toast.error(error.message);\r\n-    }\r\n-  };\r\n-  const handlePostChange = (event) => {\r\n-    setPostId(event.target.value);\r\n-  };\r\n-\r\n-\r\n-\r\n-  const handlesalarymasterclick = async () => {\r\n-    try {\r\n-      if (!issalarymasterDataFetched) {\r\n-        const response = await getallSalary();\r\n-        if (response.success) {\r\n-          setSalarymasterData(response.data);\r\n-        } else {\r\n-          setSalarymasterData([]);\r\n-        }\r\n-      }\r\n-      setIsSalarymasterDataFetched(true);\r\n-    } catch (error) {\r\n-      toast.error(error.message);\r\n-    }\r\n-  };\r\n-\r\n-  useEffect(()=>{\r\n-\thandlesalarymasterclick()\r\n-  },[])\r\n-\r\n-\r\n-  const handlesalarymasterchange = (event, index) => {\r\n-    const updatedTableRows = [...tablerow];\r\n-    console.log(updatedTableRows,\"tablerow updated\");\r\n-    setDAPrice(updatedTableRows[0].price)\r\n-    setIRPrice(updatedTableRows[1].price)\r\n-    updatedTableRows[index] = {\r\n-      ...updatedTableRows[index],\r\n-      salaryComponent: event.target.value,\r\n-    };\r\n-    setTablerow(updatedTableRows); // Update the state with the modified rows\r\n-  };\r\n- \r\n-\r\n-\r\n-  const handleAddRow = () => {\r\n-    const newRow = {\r\n-        id: tablerow.length + 1,\r\n-        salaryComponent: \"\",\r\n-        percentage: \"\",\r\n-        value: \"\",\r\n-        price: \"\",\r\n-  };\r\n-    setTablerow([...tablerow, newRow]);\r\n-   \r\n-  };\r\n-\r\n-\r\n-  const handleRemoveRow = (id) => {\r\n-    setTablerow((prevRows) => prevRows.filter((row) => row.id !== id));\r\n-  };\r\n-\r\n-   \r\n-\r\n-\r\n-    const handleBasicSalaryChange = (newBasicSalary) => {\r\n-      setBasicSalary(newBasicSalary);\r\n-      // Recalculate prices for all rows based on the new basicSalary\r\n-      const updatedTablerow = tablerow.map((row) => {\r\n-        // Calculate the new price based on percentage and fallback to value if percentage is not available\r\n-        const newPrice = Number(row.percentage || 0)\r\n-          ? (Number(newBasicSalary) * Number(row.percentage)) / 100\r\n-          : Number(row.value || 0);\r\n-        return { ...row, price: newPrice };\r\n-      });\r\n-    \r\n-      setTablerow(updatedTablerow);\r\n-    };\r\n-\r\n-    const calculateRetirementDate = () => {\r\n-      if (dateOfBirth && ageOfRetierment) {\r\n-        const dob = new Date(dateOfBirth);\r\n-        const retirementYear = dob.getFullYear() + parseInt(ageOfRetierment, 10);\r\n-      \r\n-        // Set the retirementDateCalc to the last day of the retirement month\r\n-        const retirementDateCalc = new Date(retirementYear, dob.getMonth() + 1, 0);\r\n-      \r\n-        // Get the local date components and format as YYYY-MM-DD\r\n-        const formattedRetirementDate = `${retirementDateCalc.getFullYear()}-${('0' + (retirementDateCalc.getMonth() + 1)).slice(-2)}-${('0' + retirementDateCalc.getDate()).slice(-2)}`;\r\n-      \r\n-        setDateOfRetierment(formattedRetirementDate);\r\n-      } else {\r\n-        setDateOfRetierment('');\r\n-      }\r\n-      };\r\n-    \r\n-      useEffect(() => {\r\n-      calculateRetirementDate();\r\n-      }, [dateOfBirth, ageOfRetierment]);\r\n-\r\n-\r\n-useEffect(() => {\r\n-try {\r\n-  const totalAmount = tablerow.reduce((acc, row) => {\r\n-    const salaryType = salarymasterData.find(\r\n-      (item) =>\r\n-        item._id === row.salaryComponent?._id || item._id === row.salaryComponent\r\n-    );\r\n-\r\n-    if (salaryType && (salaryType.type === 'Increment' || salaryType.type === 'Decrement')) {\r\n-      const price = parseFloat(row.price);\r\n-\r\n-      if (!isNaN(price)) {\r\n-        // Check if the parsed price is a valid number\r\n-        return acc + (salaryType.type === 'Increment' ? price : -price);\r\n-      } else {\r\n-        console.error('Invalid price for row:', row);\r\n-      }\r\n-    }\r\n-    return acc;\r\n-  }, parseFloat(basicSalary)+ parseFloat(DAPrice) + parseFloat(IRPrice) );\r\n-\r\n-  if (!isNaN(totalAmount)) {\r\n-    // Check if the calculated totalAmount is a valid number\r\n-    setitemdata({\r\n-      ...itemdata,\r\n-      TotalSalary: totalAmount,\r\n-    });\r\n-  } else {\r\n-    console.error('Invalid totalAmount:', totalAmount);\r\n-  }\r\n-} catch (error) {\r\n-  console.error('Error in useEffect:', error);\r\n-}\r\n-  }, [tablerow, basicSalary, salarymasterData,DAPrice,IRPrice]);\r\n-\r\n-\r\n-\r\n-  useEffect(() => {\r\n-\r\n-    if(employeeTypeId === \"6566be7b0085f19cfbfd00c1\" && basicSalary ){\r\n-      const EPF = parseFloat(basicSalary) + parseFloat(DAPrice) + parseFloat(IRPrice)\r\n-      setEPFWage(EPF)\r\n-    }else{\r\n-      setEPFWage('')\r\n-    };\r\n-  \r\n-\r\n-\r\n-  const joiningDate = new Date(dateOfJoining);\r\n-      const comparisonDate = new Date('2014-01-01');\r\n-\r\n-    if (employeeTypeId === \"6566be7b0085f19cfbfd00c1\" && (joiningDate >= comparisonDate)) {\r\n-      setEPSWage(0);\r\n-    } else if (employeeTypeId === \"6566be7b0085f19cfbfd00c1\" && (totalAmount >= 15000)) {\r\n-      setEPSWage(15000);\r\n-    } else if(employeeTypeId === \"6566be7b0085f19cfbfd00c1\" && (totalAmount < 15000)) {\r\n-      setEPSWage(totalAmount);\r\n-    }else{\r\n-      setEPSWage('')\r\n-    };\r\n-  \r\n-\r\n-    if(employeeTypeId === \"6566be7b0085f19cfbfd00c1\" &&(totalAmount >= 15000)){\r\n-      setEDLIWage(15000)\r\n-    }else if(employeeTypeId === \"6566be7b0085f19cfbfd00c1\" &&(totalAmount < 15000)){\r\n-      setEDLIWage(totalAmount)\r\n-    }else{\r\n-      setEDLIWage('')\r\n-    }\r\n-\r\n-    console.log(EPFWage,\":EPF WAGE\");\r\n-    console.log(EPSWage,\":Eps WAGE\");\r\n-    console.log(dateOfJoining);\r\n-    console.log(EDLIWage,\":EDLI WAGE\");\r\n-\r\n-    }, [totalAmount, dateOfJoining,EPSWage,EPFWage,EDLIWage]);\r\n-    \r\n-\r\n- \r\n-\r\n-  const handleSecondInputChange = (index, value) => {\r\n-    const updatedTableRows = [...tablerow];\r\n-    updatedTableRows[index].percentage = \"\";\r\n-    updatedTableRows[index].value = value.trim() !== \"\" ? Number(value) : \"\";\r\n-    const newPrice = value.trim() !== \"\" ? value : \"\";\r\n-    updatedTableRows[index].price = newPrice;\r\n-    setTablerow(updatedTableRows);\r\n-    setIRPrice(updatedTableRows[1].price)\r\n-    setDAPrice(updatedTableRows[0].price)\r\n-  };\r\n-\r\n-  const   handleChange = (index, percentage) => {\r\n-    const updatedTableRows = [...tablerow];\r\n-    updatedTableRows[index].percentage = Number(percentage);\r\n-\r\n-    // Reset second field's value when first field is updated\r\n-    updatedTableRows[index].value = \"\";\r\n-\r\n-    // Recalculate the price based on the updated percentage and basic salary\r\n-    const newPrice = basicSalary\r\n-      ? (basicSalary * Number(percentage)) / 100\r\n-      : \"\";\r\n-    updatedTableRows[index].price = newPrice || \"\";\r\n-\r\n-    setTablerow(updatedTableRows);\r\n-    setIRPrice(updatedTableRows[1].price)\r\n-    setDAPrice(updatedTableRows[0].price)\r\n-  };\r\n-\r\n- \r\n-  const handleclicktable = () => {\r\n-    setEditemployee(false);\r\n-    setEmployelist(true);\r\n-  };\r\n-\r\n-\r\n-  const handleclick = async (event) => {\r\n-    event.preventDefault(); // Prevent default form submission\r\n-\r\n-    // Prepare formData with all necessary fields\r\n-    const formData = {\r\n-      name,\r\n-      email,\r\n-      phone,\r\n-      gender,\r\n-      employeeno,\r\n-      address1,\r\n-      address2,\r\n-      address3,\r\n-      pincode,\r\n-      bank,\r\n-      accountNo,\r\n-      ifsc,\r\n-      branch,\r\n-      panNo,\r\n-      panName,\r\n-      dateOfJoining,\r\n-      dateOfBirth,\r\n-      ageOfRetirement:ageOfRetierment,\r\n-      dateOfRetirement: dateOfRetierment,\r\n-      guardianname,\r\n-      basicSalary,\r\n-\t  allowedleave,\r\n-    previousAllowedleave:allowedleave,\r\n-      universalAcNo,\r\n-      city,\r\n-      country,\r\n-      password,\r\n-      tablerow,\r\n-      TotalSalary:itemdata.TotalSalary\r\n-    };\r\n-   \r\n-    // Update Data array if itemid matches\r\n-    const updatedData = Data.map((dataItem) => {\r\n-      if (dataItem._id === item._id) {\r\n-        return { ...dataItem, name: formData.name }; // Update the relevant field here\r\n-      }\r\n-      return dataItem;\r\n-    });\r\n-    setData(updatedData);\r\n-\r\n-    formData._id = itemid;\r\n-    try {\r\n-      // const tablerowValue = formData.tablerow?.price;\r\n-      // if (!tablerowValue) {\r\n-      //   toast.error(\"Add atl \")\r\n-      //   return;\r\n-      // }\r\n-      // console.log(formData,\"dataaaaaaaaaaashahid\");\r\n-      formData.tablerow = (tablerow && Array.isArray(tablerow) && tablerow.length === 1 &&\r\n-      tablerow[0].value === '' &&\r\n-      tablerow[0].percentage === '' &&\r\n-      tablerow[0].price === '')\r\n-      ? []\r\n-      : (tablerow || []);\r\n-      const response = await editemployeemaster(formData);\r\n-      if (response.success) {\r\n-        toast.success(response.message);\r\n-        setEditemployee(false);\r\n-        setEmployelist(true);\r\n-        // Update any state or flags to manage component visibility\r\n-        // For example, setVisibility(false);\r\n-      } else {\r\n-        toast.error(response.message);\r\n-      }\r\n-    } catch (err) {\r\n-      toast.error(err.message);\r\n-    }\r\n-  };\r\n-console.log(DAPrice,\"DAPRICEEE\");\r\n-console.log(IRPrice,\"IRPRICE\");\r\n-console.log(employeeTypeId,\":employeetypeid\");\r\n-\r\n-\r\n-\r\n-  return (\r\n-    <div>\r\n-      {editemployee && (\r\n-        <div>\r\n-          <button\r\n-            className=\"btn btn-primary submit-form mb-3  \"\r\n-            onClick={handleclicktable}\r\n-          >\r\n-            View Table\r\n-          </button>\r\n-          <div className=\"row\">\r\n-            <div className=\"col-sm-12\">\r\n-              <div className=\"card\">\r\n-                <div className=\"card-body\">\r\n-                  <form onSubmit={handleclick}>\r\n-                    <div className=\"row\">\r\n-                      <div className=\"col-12\">\r\n-                        <div className=\"form-heading\">\r\n-                          <h4>Employee Master</h4>\r\n-                        </div>\r\n-                      </div>\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>Employee Id</label>\r\n-                          <input\r\n-                            className=\"form-control\"\r\n-                            type=\"text\"\r\n-                            placeholder=\"\"\r\n-                            value={employeeid}\r\n-                            style={{ backgroundColor: \"#cbd0d6\" }}\r\n-                            readOnly\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Name <span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-\r\n-                          <input\r\n-                            className={`form-control`}\r\n-                            type=\"text\"\r\n-                            placeholder=\"\"\r\n-                            value={name}\r\n-                            onChange={(e) => setName(e.target.value)}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Employee Type<span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-\r\n-                          <select\r\n-                            className=\"form-control select\"\r\n-                            onKeyDown={handlemployeetypeclick}\r\n-                            onMouseEnter={handlemployeetypeclick}\r\n-                            onChange={handleemployeetypechange}\r\n-                            onclick={handleemployeetypechange}\r\n-                          >\r\n-                            <option value={employeeTypeId}>\r\n-                              {item.EmployeeTypeId.name}\r\n-                            </option>\r\n-                            {employeeTypeData.map((option) => (\r\n-                              <option value={option._id} key={option._id}>\r\n-                                {option.name}\r\n-                              </option>\r\n-                            ))}\r\n-                          </select>\r\n-                        </div>\r\n-                      </div>\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Post<span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-\r\n-                          <select\r\n-                            className=\"form-control select  \"\r\n-                            onKeyDown={handlePostClick}\r\n-                            onMouseEnter={handlePostClick}\r\n-                            onChange={handlePostChange}\r\n-                          >\r\n-                            <option value={item.PostId._id}>\r\n-                              {item.PostId.designation}\r\n-                            </option>\r\n-                            {postData.map((option) => (\r\n-                              <option value={option._id} key={option._id}>\r\n-                                {option.designation}\r\n-                              </option>\r\n-                            ))}\r\n-                          </select>\r\n-                        </div>\r\n-                      </div>\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Employee No <span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-\r\n-                          <input\r\n-                            className={`form-control`}\r\n-                            type=\"text\"\r\n-                            placeholder=\"\"\r\n-                            value={employeeno}\r\n-                            onChange={(e) => setEmployeeno(e.target.value)}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Address-1 <span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-\r\n-                          <input\r\n-                            onChange={(e) => setAddress1(e.target.value)}\r\n-                            className={`form-control `}\r\n-                            type=\"text\"\r\n-                            placeholder=\"\"\r\n-                            value={address1}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Address-2 <span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-\r\n-                          <input\r\n-                            onChange={(e) => setAddress2(e.target.value)}\r\n-                            className={`form-control `}\r\n-                            type=\"text\"\r\n-                            placeholder=\"\"\r\n-                            value={address2}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Address-3 <span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-\r\n-                          <input\r\n-                            value={address3}\r\n-                            className={`form-control`}\r\n-                            type=\"text\"\r\n-                            placeholder=\"\"\r\n-                            onChange={(e) => setAddress3(e.target.value)}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Pincode <span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-\r\n-                          <input\r\n-                            value={pincode}\r\n-                            className={`form-control`}\r\n-                            type=\"number\"\r\n-                            placeholder=\"\"\r\n-                            onChange={(e) => setPincode(e.target.value)}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group select-gender\">\r\n-                          <label className=\"gen-label\">\r\n-                            Gender<span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-                          <div className=\"form-check-inline\">\r\n-                            <label className=\"form-check-label\">\r\n-                              <input\r\n-                                type=\"radio\"\r\n-                                name={gender}\r\n-                                className=\"form-check-input mt-0\"\r\n-                                value=\"Male\"\r\n-                                onChange={(e) => setGender(e.target.value)}\r\n-                                checked={gender === \"Male\"}\r\n-                              />\r\n-                              Male\r\n-                            </label>\r\n-                          </div>\r\n-                          <div className=\"form-check-inline\">\r\n-                            <label className=\"form-check-label\">\r\n-                              <input\r\n-                                type=\"radio\"\r\n-                                name={gender}\r\n-                                className=\"form-check-input mt-0\"\r\n-                                value=\"Female\"\r\n-                                onChange={(e) => setGender(e.target.value)}\r\n-                                checked={gender === \"Female\"}\r\n-                              />\r\n-                              Female\r\n-                            </label>\r\n-                          </div>\r\n-                          <div className=\"form-check-inline\">\r\n-                            <label className=\"form-check-label\">\r\n-                              <input\r\n-                                type=\"radio\"\r\n-                                name={gender}\r\n-                                className=\"form-check-input mt-0\"\r\n-                                value=\"Others\"\r\n-                                onChange={(e) => setGender(e.target.value)}\r\n-                                checked={gender === \"Others\"}\r\n-                              />\r\n-                              Others\r\n-                            </label>\r\n-                          </div>\r\n-                        </div>\r\n-                      </div>\r\n-\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Email <span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-\r\n-                          <input\r\n-                            value={email}\r\n-                            className={`form-control`}\r\n-                            type=\"text\"\r\n-                            placeholder=\"\"\r\n-                            onChange={(e) => setEmail(e.target.value)}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Phone <span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-\r\n-                          <input\r\n-                            value={phone}\r\n-                            className={`form-control`}\r\n-                            type=\"number\"\r\n-                            placeholder=\"\"\r\n-                            onChange={(e) => {\r\n-                              const onlyNumbers = e.target.value.replace(/[^0-9]/g, ''); // Remove non-numeric characters\r\n-                              if (onlyNumbers.length <= 10) {\r\n-                              setPhone(onlyNumbers);\r\n-                              }\r\n-                            }}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Bank <span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-\r\n-                          <input\r\n-                            onChange={(e) => setBank(e.target.value)}\r\n-                            className={`form-control`}\r\n-                            type=\"text\"\r\n-                            placeholder=\"\"\r\n-                            value={bank}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Account No<span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-\r\n-                          <input\r\n-                            onChange={(e) => setAccountno(e.target.value)}\r\n-                            className={`form-control`}\r\n-                            type=\"text\"\r\n-                            placeholder=\"\"\r\n-                            value={accountNo}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Branch<span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-\r\n-                          <input\r\n-                            onChange={(e) => setBranch(e.target.value)}\r\n-                            className={`form-control`}\r\n-                            type=\"text\"\r\n-                            placeholder=\"\"\r\n-                            value={branch}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            IFSC<span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-\r\n-                          <input\r\n-                            onChange={(e) => setIfsc(e.target.value)}\r\n-                            className={`form-control `}\r\n-                            type=\"text\"\r\n-                            placeholder=\"\"\r\n-                            value={ifsc}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            PAN No<span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-\r\n-                          <input\r\n-                            onChange={(e) => setPanNo(e.target.value)}\r\n-                            className={`form-control `}\r\n-                            type=\"text\"\r\n-                            placeholder=\"\"\r\n-                            value={panNo}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Pan Name<span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-\r\n-                          <input\r\n-                            onChange={(e) => setPanName(e.target.value)}\r\n-                            className={`form-control `}\r\n-                            type=\"text\"\r\n-                            placeholder=\"\"\r\n-                            value={panName}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Guardian Name<span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-\r\n-                          <input\r\n-                            onChange={(e) => setGuardianName(e.target.value)}\r\n-                            className={`form-control`}\r\n-                            type=\"text\"\r\n-                            placeholder=\"\"\r\n-                            value={guardianname}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Date Of Joining\r\n-                            <span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-\r\n-                          <input\r\n-                            onChange={(e) => setDateOfJoining(e.target.value)}\r\n-                            className={`form-control `}\r\n-                            type=\"date\"\r\n-                            placeholder=\"\"\r\n-                            value={dateOfJoining}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-\r\n-                      <div className=\"col-12 col-md-6 col-xl-4\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Date Of Birth<span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-\r\n-                          <input\r\n-                            className={`form-control`}\r\n-                            type=\"date\"\r\n-                            placeholder=\"\"\r\n-                            value={dateOfBirth}\r\n-                            onChange={(e) => setDateOfBirth(e.target.value)}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-                      \r\n-                      <div className=\"col-12 col-md-6 col-xl-4\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Age Of Retirement<span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-\r\n-                          <input\r\n-                            className={`form-control`}\r\n-                            type=\"text\"\r\n-                            placeholder=\"\"\r\n-                            value={ageOfRetierment}\r\n-                            onChange={(e) => setAgeOfRetierment(e.target.value)}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-                      <div className=\"col-12 col-md-6 col-xl-4\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Date Of Retirement<span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-\r\n-                          <input\r\n-                            className={`form-control`}\r\n-                            type=\"date\"\r\n-                            placeholder=\"\"\r\n-                            value={dateOfRetierment}\r\n-                            onChange={(e) => setDateOfRetierment(e.target.value)}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Basic Salary<span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-                          <input\r\n-                            className=\"form-control\"\r\n-                            type=\"number\"\r\n-                            placeholder=\"\"\r\n-                            value={basicSalary}\r\n-                            onChange={(e) => handleBasicSalaryChange(e.target.value)}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-\r\n-\t\t\t\t\t            <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                           Allowed Leave<span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-                          <input\r\n-                            className=\"form-control\"\r\n-                            type=\"number\"\r\n-                            placeholder=\"\"\r\n-                            value={allowedleave}\r\n-                            onChange={(e) => setAllowedLeave(e.target.value)}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Universal Account Number\r\n-                            <span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-                          <input\r\n-                            onChange={(e) => setUniversalAcNo(e.target.value)}\r\n-                            className={`form-control`}\r\n-                            type=\"text\"\r\n-                            placeholder=\"\"\r\n-                            value={universalAcNo}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Ip Number\r\n-                            <span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-                          <input\r\n-                            onChange={(e) => {\r\n-                              const Ipnumbers = e.target.value \r\n-                              if (Ipnumbers.length <= 10) {\r\n-                                setIPNumber(Ipnumbers);\r\n-                              }\r\n-                            }}\r\n-                            className={`form-control`}\r\n-                            type=\"text\"\r\n-                            placeholder=\"\"\r\n-                            value={Ipnumber}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            City <span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-                          <input\r\n-                            onChange={(e) => setCity(e.target.value)}\r\n-                            className={`form-control`}\r\n-                            type=\"text\"\r\n-                            placeholder=\"\"\r\n-                            value={city}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Country <span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-                          <input\r\n-                            onChange={(e) => setCountry(e.target.value)}\r\n-                            className={`form-control`}\r\n-                            type=\"text\"\r\n-                            placeholder=\"\"\r\n-                            value={country}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-\r\n-                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n-                        <div className=\"form-group local-forms\">\r\n-                          <label>\r\n-                            Password <span className=\"login-danger\">*</span>\r\n-                          </label>\r\n-                          <input\r\n-                            onChange={(e) => setPassword(e.target.value)}\r\n-                            className={`form-control`}\r\n-                            type=\"text\"\r\n-                            placeholder=\"\"\r\n-                            value={password}\r\n-                          />\r\n-                        </div>\r\n-                      </div>\r\n-\r\n-                      <div className=\"row\">\r\n-                        {salarycomponent&&\r\n-                        <div className=\"col-md-12\">\r\n-                          <div className=\"card invoices-add-card\">\r\n-                            <div className=\"card-body\">\r\n-                              <div className=\"invoice-add-table\">\r\n-                                <h4>Salary component</h4>\r\n-                                <div className=\"table-responsive\">\r\n-                                  <table className=\"table table-striped table-nowrap  mb-0 no-footer add-table-items\">\r\n-                                    <thead>\r\n-                                      <tr>\r\n-                                        <th>No</th>\r\n-                                        <th>Salary Components</th>\r\n-                                        <th>%</th>\r\n-                                        <th>Value</th>\r\n-                                        <th>Total</th>\r\n-                                        <th></th>\r\n-                                      </tr>\r\n-                                    </thead>\r\n-                                    {salarymasterData[0]&&  <tbody>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={1454}>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" value={ 1} readOnly \r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setRowId1(e.target.value)}/>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select className=\"form-control\"\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// onKeyDown={handlesalarymasterclick}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// onMouseEnter={handlesalarymasterclick}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => handlesalarymasterchange(event, index)}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={salarymasterData[0]._id} key={salarymasterData[0]._id}>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{salarymasterData[0].name}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control `}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"%\"\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// onChange={handleChange}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={DAPercentage}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// value={row.percentage ? row.percentage : ''}\r\n-                                                                        onChange={(e)=>handleDAPercentage(e)}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={DAValue ? DAValue : ''}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => handleDAValue( e)}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" \r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t value={DAPrice?DAPrice:''}\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t readOnly/>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"add-remove text-end\">\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n-\r\n-\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n-\t\t\t\t\t\t\t\t\t\t\t\t      \t\t</tbody>}\r\n-                                  {salarymasterData[0]&&\t<tbody>\r\n-                                  <tr key={235435}>\r\n-                                    <td>\r\n-                                    <input type=\"text\" className=\"form-control\" value={ 2 } readOnly \r\n-                                    onChange={(e) => setRowId2(e.target.value)}/>\r\n-                                    </td>\r\n-                                    <td>\r\n-                                    <select className=\"form-control\"\r\n-                                    // onKeyDown={handlesalarymasterclick}\r\n-                                    // onMouseEnter={handlesalarymasterclick}\r\n-                                    onChange={(event) => handlesalarymasterchange(event, index)}\r\n-                                    >\r\n-                                    \r\n-                                      \r\n-                                        <option value={salarymasterData[1]._id} key={salarymasterData[0]._id}>\r\n-                                          {salarymasterData[1].name}\r\n-                                        </option>\r\n-                                      \r\n-                                      \r\n-                                    </select>\r\n-                                    </td>\r\n-                                    \r\n-                                    <td>\r\n-                                    <input\r\n-                                        \r\n-                                        type=\"number\"\r\n-                                        className={`form-control`}\r\n-                                        placeholder=\"%\"\r\n-                                        // onChange={handleChange}\r\n-                                        value={IRPercentage}\r\n-                                        // value={row.percentage ? row.percentage : ''}\r\n-                                                                            onChange={(e) => handleIRPercentage(e)}\r\n-                                        />\r\n-                                      \r\n-                                       \r\n-                                  </td>\r\n-                                    <td>\r\n-                                    <input\r\n-                                      type=\"text\"\r\n-                                      className=\"form-control\"\r\n-                                      value={IRValue}\r\n-                                      onChange={(e) => handleIRValue(e)}\r\n-                                      \r\n-                                    />\r\n-                                    </td>\r\n-                                    <td>\r\n-                                    <input type=\"text\" className=\"form-control\" \r\n-                                    value={IRPrice?IRPrice:''}\r\n-                                    readOnly/>\r\n-                                    </td>\r\n-                                    <td className=\"add-remove text-end\">\r\n-                                    \r\n-                                    \r\n-                                    \r\n-                                    </td>\r\n-                                  </tr>\r\n-                                </tbody>}\r\n-                                    <tbody>\r\n-                                      {tablerow.map((row, index) => (\r\n-                                        <tr key={row.id}>\r\n-                                          <td>\r\n-                                            <input\r\n-                                              type=\"text\"\r\n-                                              className=\"form-control\"\r\n-                                              value={index + 1}\r\n-                                              readOnly\r\n-                                            />\r\n-                                          </td>\r\n-                                          <td>\r\n-                                            <select\r\n-                                              className=\"form-control\"\r\n-                                            //   onMouseEnter={\r\n-                                            //     handlesalarymasterclick\r\n-                                            //   }\r\n-                                              onChange={(event) =>\r\n-                                                handlesalarymasterchange(\r\n-                                                  event,\r\n-                                                  index\r\n-                                                )\r\n-                                              }\r\n-                                            >\r\n-                                              <option\r\n-                                                value={row._id}\r\n-                                                key={row._id}\r\n-                                              >\r\n-                                                {row.salaryComponent.name}\r\n-                                              </option>\r\n-                                              {salarymasterData.map(\r\n-                                                (option) => (\r\n-                                                  <option\r\n-                                                    value={option._id}\r\n-                                                    key={option._id}\r\n-                                                  >\r\n-                                                    {option.name}\r\n-                                                  </option>\r\n-                                                )\r\n-                                              )}\r\n-                                            </select>\r\n-                                          </td>\r\n-\r\n-                                          <td>\r\n-                                            <input\r\n-                                              type=\"number\"\r\n-                                              className={`form-control`}\r\n-                                              placeholder=\"%\"\r\n-                                              // onChange={handleChange}\r\n-                                              // value={percentage}\r\n-                                              value={\r\n-                                                row.percentage\r\n-                                                  ? row.percentage\r\n-                                                  : \"\"\r\n-                                              }\r\n-                                              onChange={(e) =>\r\n-                                                handleChange(\r\n-                                                  index,\r\n-                                                  e.target.value\r\n-                                                )\r\n-                                              }\r\n-                                            />\r\n-                                          </td>\r\n-                                          <td>\r\n-                                            <input\r\n-                                              type=\"text\"\r\n-                                              className=\"form-control\"\r\n-                                              value={row.value ? row.value : \"\"}\r\n-                                              onChange={(e) =>\r\n-                                                handleSecondInputChange(\r\n-                                                  index,\r\n-                                                  e.target.value\r\n-                                                )\r\n-                                              }\r\n-                                            />\r\n-                                          </td>\r\n-                                          <td>\r\n-                                            <input\r\n-                                              type=\"text\"\r\n-                                              className=\"form-control\"\r\n-                                              value={row.price ? row.price : \"\"}\r\n-                                              readOnly\r\n-                                            />\r\n-                                          </td>\r\n-                                          <td className=\"add-remove text-end\">\r\n-                                            <a\r\n-                                              href=\"javascript:void(0);\"\r\n-                                              className=\"me-2\"\r\n-                                              onClick={handleAddRow}\r\n-                                            >\r\n-                                              <i className=\"fas fa-plus-circle\"></i>\r\n-                                            </a>\r\n-\r\n-                                            <a\r\n-                                              href=\"javascript:void(0);\"\r\n-                                              className=\"remove-btn\"\r\n-                                              onClick={() =>\r\n-                                                handleRemoveRow(row.id)\r\n-                                              }\r\n-                                            >\r\n-                                              <i className=\"fa fa-trash-alt\"></i>\r\n-                                            </a>\r\n-                                          </td>\r\n-                                        </tr>\r\n-                                      ))}\r\n-\r\n-                                      {tablerow.length === 0 &&\r\n-                                        setTablerow((prevRows) => [\r\n-                                          ...prevRows,\r\n-                                          {\r\n-                                            id: tablerow.length+1,\r\n-                                            salaryComponent: \"\",\r\n-                                            percentage: \"\",\r\n-                                            value: \"\",\r\n-                                            price: \"\",\r\n-                                          },\r\n-                                        ])}\r\n-                                    </tbody>\r\n-                                    <tfoot>\r\n-                                      <tr>\r\n-                                        <td colSpan=\"5\" className=\"text-end\">\r\n-                                          <strong>Total Amount:</strong>\r\n-                                        </td>\r\n-                                        <td>\r\n-                                          <input\r\n-                                            className=\"form-control\"\r\n-                                            type=\"number\"\r\n-                                           value={itemdata?.TotalSalary}\r\n-                                            readOnly\r\n-                                          />\r\n-                                          {/* Display the total amount here */}\r\n-                                          {/* You can use the 'calculateTotalAmount' function to get the total */}\r\n-                                        </td>\r\n-                                      </tr>\r\n-                                    </tfoot>\r\n-                                  </table>\r\n-                                </div>\r\n-                              </div>\r\n-                            </div>\r\n-                          </div>\r\n-                        </div>}\r\n-                      </div>\r\n-                      <div className=\"col-12\">\r\n-                        <div className=\"doctor-submit text-end\">\r\n-                          <button\r\n-                            type=\"submit\"\r\n-                            className=\"btn btn-primary submit-form me-2\"\r\n-                          >\r\n-                            Submit\r\n-                          </button>\r\n-                          <button\r\n-                            type=\"submit\"\r\n-                            className=\"btn btn-primary cancel-form\"\r\n-                          >\r\n-                            Cancel\r\n-                          </button>\r\n-                        </div>\r\n-                      </div>\r\n-                    </div>\r\n-                  </form>\r\n-                </div>\r\n-              </div>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      )}\r\n-\r\n-      {employelist && (\r\n-        <Employeemasterlist formdata={formdata} setformdata={setFormdata} />\r\n-      )}\r\n-    </div>\r\n-  );\r\n-}\r\n-\r\n-export default EditEmployeeMaster;\r\n"
                }
            ],
            "date": 1703655359247,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { getallemployeetype } from \"../../Apicalls/Employeetype\";\r\nimport { getallpost } from \"../../Apicalls/Post\";\r\nimport { getallSalary } from \"../../Apicalls/salarymaster\";\r\nimport { editemployeemaster } from \"../../Apicalls/EmployeeMater\";\r\nimport Employeemasterlist from \"./Employeemasterlist\";\r\nfunction EditEmployeeMaster({ closeEdit, item, setData, Data, show, setshow }) {\r\n  console.log(item,\"item\");\r\n  const [itemdata,setitemdata]=useState(item)\r\n  const [employeeTypeData, setEmployeeTypeData] = useState([]);\r\n  const [employeeTypeId, setEmployeeTypeId] = useState(item.EmployeeTypeId._id);\r\n  const [isemployeeTypeDataFetch, setisEmployeeTypeDataFetch] = useState(false);\r\n  const [postData, setPostData] = useState([]);\r\n  const [postId, setPostId] = useState(\"\");\r\n  const [ispostDataFetched, setIspostDataFetched] = useState(false);\r\n  const [issalarymasterDataFetched, setIsSalarymasterDataFetched] =useState(false);\r\n  const [salarymasterData, setSalarymasterData] = useState([]);\r\n   const [employeeid, setEmployeeId] = useState(item?.employeeid);\r\n   const [name, setName] = useState(item?.name);\r\n   const [email, setEmail] = useState(item?.email);\r\n   const [phone, setPhone] = useState(item?.phone);\r\n   const [employeeno, setEmployeeno] = useState(item?.employeeno);\r\n   const [address1, setAddress1] = useState(item?.address1);\r\n   const [address2, setAddress2] = useState(item?.address2);\r\n   const [address3, setAddress3] = useState(item?.address3);\r\n   const [pincode,setPincode]=useState(item?.pincode);\r\n   const [dateOfRetierment,setDateOfRetierment]=useState(item?.dateOfRetierment);\r\n\tconst [ageOfRetierment,setAgeOfRetierment]=useState(item?.ageOfRetierment);\r\n   const [bank, setBank] = useState(item?.bank);\r\n   const [accountNo, setAccountno] = useState(item?.accountNo);\r\n   const [branch, setBranch] = useState(item?.branch);\r\n   const [ifsc, setIfsc] = useState(item?.ifsc);\r\n   const [panNo, setPanNo] = useState(item?.panNo);\r\n   const [panName, setPanName] = useState(item?.panName);\r\n   const [dateOfJoining, setDateOfJoining] = useState(item?.dateOfJoining);\r\n   const [dateOfBirth, setDateOfBirth] = useState(item?.dateOfBirth);\r\n   const [guardianname, setGuardianName] = useState(item?.guardianName);\r\n   const [basicSalary, setBasicSalary] = useState(item?.basicSalary);\r\n   const [universalAcNo, setUniversalAcNo] = useState(item?.universalAcNo);\r\n   const [Ipnumber, setIPNumber] = useState(item?.Ipnumber);\r\n   const [city, setCity] = useState(item?.city);\r\n   const [country, setCountry] = useState(item?.country);\r\n   const [tabledata, setTabledata] = useState(item?.tableRow);\r\n   const [TotalSalary, setTotalSalary] = useState(item?.TotalSalary);\r\n   const [gender, setGender] = useState(item?.gender);\r\n   const [allowedleave,setAllowedLeave]=useState(item?.allowedleave);\r\n   const [employelist, setEmployelist] = useState(false);\r\n   const [editemployee, setEditemployee] = useState(true);\r\n  //  const [percentage, setPercentage] = useState(\"\");\r\n  //  const [calculatePercentage, setCalculatePercentage] = useState(\"\");\r\n  //  const [secondInputValue, setSecondInputValue] = useState(\"\");\r\n   const [formdata, setFormdata] = useState(\"\");\r\n   const [itemid, setitemid] = useState(item._id);\r\n   const [tablerow, setTablerow] = useState(item?item.tablerow.slice(2):\"\");\r\n  \r\n   const [password, setPassword] = useState(item?.password);\r\n\r\n   const [totalAmount, setTotalAmount] = useState(0);\r\n\r\n   const [salarycomponent,setSalarycomponent]=useState(false)\r\n\r\n   \r\n\tconst [EPFWage,setEPFWage]=useState(\"\");\r\n\tconst [EPSWage,setEPSWage]=useState(\"\");\r\n\tconst [EPSContri,setEPSContri]=useState(\"\");\r\n\tconst[EPFContri,setEPFContri]=useState(\"\");\r\n\tconst[EPSEPFDiff,setEPSEPFDiff]=useState(\"\");\r\n\tconst [EDLIWage, setEDLIWage]=useState(\"\");\r\n\r\n  \t  \r\n  const [DAPercentage,setDAPercentage]=useState(item.tablerow[0]?item.tablerow[0].percentage:\"\");\r\n  const [DAValue,setDAValue]=useState(item.tablerow[0]?item.tablerow[0].value:\"\");\r\n  const [DAPrice,setDAPrice]=useState(item.tablerow[0]?item.tablerow[0].price:\"\");\r\n  const [IRPercentage,setIRPercentage]=useState(item.tablerow[1]?item.tablerow[1].percentage:\"\");\r\n  const [IRValue,setIRValue]=useState(item.tablerow[1]?item.tablerow[1].value:\"\");\r\n  const [IRPrice,setIRPrice]=useState(item.tablerow[1]?item.tablerow[1].price:\"\");\r\n\r\n\r\n\r\n\r\n  const handleDAPercentage = (event)=>{\r\n   const value= event.target.value;\r\n   setDAPercentage(value)\r\n   setDAValue('')\r\n   }\r\n   const handleDAValue = (event)=>{\r\n   const value= event.target.value;\r\n   setDAValue(value)\r\n   setDAPercentage('')\r\n   }\r\n   const handleIRPercentage = (event)=>{\r\n   const value= event.target.value;\r\n   setIRPercentage(value)\r\n   setIRValue('')\r\n   }\r\n   const handleIRValue = (event)=>{\r\n   const value= event.target.value;\r\n   setIRValue(value)\r\n   setIRPercentage('')\r\n   }\r\n\r\n  useEffect(() => {\r\n\r\n   // DA row\r\n   \r\n   if (DAPercentage !== 0 && !DAValue) {\r\n     const price = (basicSalary * DAPercentage) / 100;\r\n     setDAPrice(price);\r\n   }\r\n   \r\n   else if (DAValue !== 0 && !DAPercentage) {\r\n     const prices = DAValue;\r\n     console.log(\"Priceeeeeeeeeee\",prices);\r\n     setDAPrice(prices);\r\n   }\r\n\r\n   // IR row\r\n   \r\n   if (IRPercentage !== 0 && !IRValue  ) {\r\n     const price = (basicSalary * IRPercentage) / 100;\r\n     setIRPrice(price);\r\n   }\r\n   \r\n   else if (IRValue !== 0 && !IRPercentage) {\r\n     const prices = IRValue;\r\n     console.log(\"Priceeeeeeeeeee\",prices);\r\n     setIRPrice(prices);\r\n   }\r\n   }, [DAPercentage, DAValue, basicSalary,IRPercentage,IRValue]);\r\n\r\n\r\n  const handlemployeetypeclick = async () => {\r\n    try {\r\n      if (!isemployeeTypeDataFetch) {\r\n        const response = await getallemployeetype();\r\n        if (response.success) {\r\n          setEmployeeTypeData(response.data);\r\n        } else {\r\n          setEmployeeTypeData([]);\r\n        }\r\n      }\r\n      setisEmployeeTypeDataFetch(true);\r\n    } catch (error) {\r\n      toast.error(error.message);\r\n    }\r\n  };\r\n\r\n \r\n  const handleemployeetypechange = (event) => {\r\n    setEmployeeTypeId(event.target.value);\r\n    console.log(employeeTypeId,\"iddddddddd\");\r\n   \r\n  };\r\n\r\n\r\n  useEffect(()=>{\r\n    if (employeeTypeId == \"6566be7b0085f19cfbfd00c1\"){\r\n\t\t\tsetSalarycomponent(true)\r\n\t\t}else{\r\n\t\t\tsetSalarycomponent(false)\r\n\t\t}\r\n\r\n  },[employeeTypeId])\r\n\r\n\r\n  const handlePostClick = async () => {\r\n    try {\r\n      if (!ispostDataFetched) {\r\n        const response = await getallpost();\r\n        if (response.success) {\r\n          setPostData(response.data);\r\n        } else {\r\n          setPostData([]);\r\n        }\r\n      }\r\n      setIspostDataFetched(true);\r\n    } catch (error) {\r\n      toast.error(error.message);\r\n    }\r\n  };\r\n  const handlePostChange = (event) => {\r\n    setPostId(event.target.value);\r\n  };\r\n\r\n\r\n\r\n  const handlesalarymasterclick = async () => {\r\n    try {\r\n      if (!issalarymasterDataFetched) {\r\n        const response = await getallSalary();\r\n        if (response.success) {\r\n          setSalarymasterData(response.data);\r\n        } else {\r\n          setSalarymasterData([]);\r\n        }\r\n      }\r\n      setIsSalarymasterDataFetched(true);\r\n    } catch (error) {\r\n      toast.error(error.message);\r\n    }\r\n  };\r\n\r\n  useEffect(()=>{\r\n\thandlesalarymasterclick()\r\n  },[])\r\n\r\n\r\n  const handlesalarymasterchange = (event, index) => {\r\n    const updatedTableRows = [...tablerow];\r\n    console.log(updatedTableRows,\"tablerow updated\");\r\n    setDAPrice(updatedTableRows[0].price)\r\n    setIRPrice(updatedTableRows[1].price)\r\n    updatedTableRows[index] = {\r\n      ...updatedTableRows[index],\r\n      salaryComponent: event.target.value,\r\n    };\r\n    setTablerow(updatedTableRows); // Update the state with the modified rows\r\n  };\r\n \r\n\r\n\r\n  const handleAddRow = () => {\r\n    const newRow = {\r\n        id: tablerow.length + 1,\r\n        salaryComponent: \"\",\r\n        percentage: \"\",\r\n        value: \"\",\r\n        price: \"\",\r\n  };\r\n    setTablerow([...tablerow, newRow]);\r\n   \r\n  };\r\n\r\n\r\n  const handleRemoveRow = (id) => {\r\n    setTablerow((prevRows) => prevRows.filter((row) => row.id !== id));\r\n  };\r\n\r\n   \r\n\r\n\r\n    const handleBasicSalaryChange = (newBasicSalary) => {\r\n      setBasicSalary(newBasicSalary);\r\n      // Recalculate prices for all rows based on the new basicSalary\r\n      const updatedTablerow = tablerow.map((row) => {\r\n        // Calculate the new price based on percentage and fallback to value if percentage is not available\r\n        const newPrice = Number(row.percentage || 0)\r\n          ? (Number(newBasicSalary) * Number(row.percentage)) / 100\r\n          : Number(row.value || 0);\r\n        return { ...row, price: newPrice };\r\n      });\r\n    \r\n      setTablerow(updatedTablerow);\r\n    };\r\n\r\n    const calculateRetirementDate = () => {\r\n      if (dateOfBirth && ageOfRetierment) {\r\n        const dob = new Date(dateOfBirth);\r\n        const retirementYear = dob.getFullYear() + parseInt(ageOfRetierment, 10);\r\n      \r\n        // Set the retirementDateCalc to the last day of the retirement month\r\n        const retirementDateCalc = new Date(retirementYear, dob.getMonth() + 1, 0);\r\n      \r\n        // Get the local date components and format as YYYY-MM-DD\r\n        const formattedRetirementDate = `${retirementDateCalc.getFullYear()}-${('0' + (retirementDateCalc.getMonth() + 1)).slice(-2)}-${('0' + retirementDateCalc.getDate()).slice(-2)}`;\r\n      \r\n        setDateOfRetierment(formattedRetirementDate);\r\n      } else {\r\n        setDateOfRetierment('');\r\n      }\r\n      };\r\n    \r\n      useEffect(() => {\r\n      calculateRetirementDate();\r\n      }, [dateOfBirth, ageOfRetierment]);\r\n\r\n\r\nuseEffect(() => {\r\ntry {\r\n  const totalAmount = tablerow.reduce((acc, row) => {\r\n    const salaryType = salarymasterData.find(\r\n      (item) =>\r\n        item._id === row.salaryComponent?._id || item._id === row.salaryComponent\r\n    );\r\n\r\n    if (salaryType && (salaryType.type === 'Increment' || salaryType.type === 'Decrement')) {\r\n      const price = parseFloat(row.price);\r\n\r\n      if (!isNaN(price)) {\r\n        // Check if the parsed price is a valid number\r\n        return acc + (salaryType.type === 'Increment' ? price : -price);\r\n      } else {\r\n        console.error('Invalid price for row:', row);\r\n      }\r\n    }\r\n    return acc;\r\n  }, parseFloat(basicSalary)+ parseFloat(DAPrice) + parseFloat(IRPrice) );\r\n\r\n  if (!isNaN(totalAmount)) {\r\n    // Check if the calculated totalAmount is a valid number\r\n    setitemdata({\r\n      ...itemdata,\r\n      TotalSalary: totalAmount,\r\n    });\r\n  } else {\r\n    console.error('Invalid totalAmount:', totalAmount);\r\n  }\r\n} catch (error) {\r\n  console.error('Error in useEffect:', error);\r\n}\r\n  }, [tablerow, basicSalary, salarymasterData,DAPrice,IRPrice]);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    if(employeeTypeId === \"6566be7b0085f19cfbfd00c1\" && basicSalary ){\r\n      const EPF = parseFloat(basicSalary) + parseFloat(DAPrice) + parseFloat(IRPrice)\r\n      setEPFWage(EPF)\r\n    }else{\r\n      setEPFWage('')\r\n    };\r\n  \r\n\r\n\r\n  const joiningDate = new Date(dateOfJoining);\r\n      const comparisonDate = new Date('2014-01-01');\r\n\r\n    if (employeeTypeId === \"6566be7b0085f19cfbfd00c1\" && (joiningDate >= comparisonDate)) {\r\n      setEPSWage(0);\r\n    } else if (employeeTypeId === \"6566be7b0085f19cfbfd00c1\" && (totalAmount >= 15000)) {\r\n      setEPSWage(15000);\r\n    } else if(employeeTypeId === \"6566be7b0085f19cfbfd00c1\" && (totalAmount < 15000)) {\r\n      setEPSWage(totalAmount);\r\n    }else{\r\n      setEPSWage('')\r\n    };\r\n  \r\n\r\n    if(employeeTypeId === \"6566be7b0085f19cfbfd00c1\" &&(totalAmount >= 15000)){\r\n      setEDLIWage(15000)\r\n    }else if(employeeTypeId === \"6566be7b0085f19cfbfd00c1\" &&(totalAmount < 15000)){\r\n      setEDLIWage(totalAmount)\r\n    }else{\r\n      setEDLIWage('')\r\n    }\r\n\r\n    console.log(EPFWage,\":EPF WAGE\");\r\n    console.log(EPSWage,\":Eps WAGE\");\r\n    console.log(dateOfJoining);\r\n    console.log(EDLIWage,\":EDLI WAGE\");\r\n\r\n    }, [totalAmount, dateOfJoining,EPSWage,EPFWage,EDLIWage]);\r\n    \r\n\r\n \r\n\r\n  const handleSecondInputChange = (index, value) => {\r\n    const updatedTableRows = [...tablerow];\r\n    updatedTableRows[index].percentage = \"\";\r\n    updatedTableRows[index].value = value.trim() !== \"\" ? Number(value) : \"\";\r\n    const newPrice = value.trim() !== \"\" ? value : \"\";\r\n    updatedTableRows[index].price = newPrice;\r\n    setTablerow(updatedTableRows);\r\n    setIRPrice(updatedTableRows[1].price)\r\n    setDAPrice(updatedTableRows[0].price)\r\n  };\r\n\r\n  const   handleChange = (index, percentage) => {\r\n    const updatedTableRows = [...tablerow];\r\n    updatedTableRows[index].percentage = Number(percentage);\r\n\r\n    // Reset second field's value when first field is updated\r\n    updatedTableRows[index].value = \"\";\r\n\r\n    // Recalculate the price based on the updated percentage and basic salary\r\n    const newPrice = basicSalary\r\n      ? (basicSalary * Number(percentage)) / 100\r\n      : \"\";\r\n    updatedTableRows[index].price = newPrice || \"\";\r\n\r\n    setTablerow(updatedTableRows);\r\n    setIRPrice(updatedTableRows[1].price)\r\n    setDAPrice(updatedTableRows[0].price)\r\n  };\r\n\r\n \r\n  const handleclicktable = () => {\r\n    setEditemployee(false);\r\n    setEmployelist(true);\r\n  };\r\n\r\n\r\n  const handleclick = async (event) => {\r\n    event.preventDefault(); // Prevent default form submission\r\n\r\n    // Prepare formData with all necessary fields\r\n    const formData = {\r\n      name,\r\n      email,\r\n      phone,\r\n      gender,\r\n      employeeno,\r\n      address1,\r\n      address2,\r\n      address3,\r\n      pincode,\r\n      bank,\r\n      accountNo,\r\n      ifsc,\r\n      branch,\r\n      panNo,\r\n      panName,\r\n      dateOfJoining,\r\n      dateOfBirth,\r\n      ageOfRetirement:ageOfRetierment,\r\n      dateOfRetirement: dateOfRetierment,\r\n      guardianname,\r\n      basicSalary,\r\n\t  allowedleave,\r\n    previousAllowedleave:allowedleave,\r\n      universalAcNo,\r\n      city,\r\n      country,\r\n      password,\r\n      tablerow,\r\n      TotalSalary:itemdata.TotalSalary\r\n    };\r\n   \r\n    // Update Data array if itemid matches\r\n    const updatedData = Data.map((dataItem) => {\r\n      if (dataItem._id === item._id) {\r\n        return { ...dataItem, name: formData.name }; // Update the relevant field here\r\n      }\r\n      return dataItem;\r\n    });\r\n    setData(updatedData);\r\n\r\n    formData._id = itemid;\r\n    try {\r\n      // const tablerowValue = formData.tablerow?.price;\r\n      // if (!tablerowValue) {\r\n      //   toast.error(\"Add atl \")\r\n      //   return;\r\n      // }\r\n      // console.log(formData,\"dataaaaaaaaaaashahid\");\r\n      formData.tablerow = (tablerow && Array.isArray(tablerow) && tablerow.length === 1 &&\r\n      tablerow[0].value === '' &&\r\n      tablerow[0].percentage === '' &&\r\n      tablerow[0].price === '')\r\n      ? []\r\n      : (tablerow || []);\r\n      const response = await editemployeemaster(formData);\r\n      if (response.success) {\r\n        toast.success(response.message);\r\n        setEditemployee(false);\r\n        setEmployelist(true);\r\n        // Update any state or flags to manage component visibility\r\n        // For example, setVisibility(false);\r\n      } else {\r\n        toast.error(response.message);\r\n      }\r\n    } catch (err) {\r\n      toast.error(err.message);\r\n    }\r\n  };\r\nconsole.log(DAPrice,\"DAPRICEEE\");\r\nconsole.log(IRPrice,\"IRPRICE\");\r\nconsole.log(employeeTypeId,\":employeetypeid\");\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      {editemployee && (\r\n        <div>\r\n          <button\r\n            className=\"btn btn-primary submit-form mb-3  \"\r\n            onClick={handleclicktable}\r\n          >\r\n            View Table\r\n          </button>\r\n          <div className=\"row\">\r\n            <div className=\"col-sm-12\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <form onSubmit={handleclick}>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-12\">\r\n                        <div className=\"form-heading\">\r\n                          <h4>Employee Master</h4>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>Employee Id</label>\r\n                          <input\r\n                            className=\"form-control\"\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            value={employeeid}\r\n                            style={{ backgroundColor: \"#cbd0d6\" }}\r\n                            readOnly\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Name <span className=\"login-danger\">*</span>\r\n                          </label>\r\n\r\n                          <input\r\n                            className={`form-control`}\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            value={name}\r\n                            onChange={(e) => setName(e.target.value)}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Employee Type<span className=\"login-danger\">*</span>\r\n                          </label>\r\n\r\n                          <select\r\n                            className=\"form-control select\"\r\n                            onKeyDown={handlemployeetypeclick}\r\n                            onMouseEnter={handlemployeetypeclick}\r\n                            onChange={handleemployeetypechange}\r\n                            onclick={handleemployeetypechange}\r\n                          >\r\n                            <option value={employeeTypeId}>\r\n                              {item.EmployeeTypeId.name}\r\n                            </option>\r\n                            {employeeTypeData.map((option) => (\r\n                              <option value={option._id} key={option._id}>\r\n                                {option.name}\r\n                              </option>\r\n                            ))}\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Post<span className=\"login-danger\">*</span>\r\n                          </label>\r\n\r\n                          <select\r\n                            className=\"form-control select  \"\r\n                            onKeyDown={handlePostClick}\r\n                            onMouseEnter={handlePostClick}\r\n                            onChange={handlePostChange}\r\n                          >\r\n                            <option value={item.PostId._id}>\r\n                              {item.PostId.designation}\r\n                            </option>\r\n                            {postData.map((option) => (\r\n                              <option value={option._id} key={option._id}>\r\n                                {option.designation}\r\n                              </option>\r\n                            ))}\r\n                          </select>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Employee No <span className=\"login-danger\">*</span>\r\n                          </label>\r\n\r\n                          <input\r\n                            className={`form-control`}\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            value={employeeno}\r\n                            onChange={(e) => setEmployeeno(e.target.value)}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Address-1 <span className=\"login-danger\">*</span>\r\n                          </label>\r\n\r\n                          <input\r\n                            onChange={(e) => setAddress1(e.target.value)}\r\n                            className={`form-control `}\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            value={address1}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Address-2 <span className=\"login-danger\">*</span>\r\n                          </label>\r\n\r\n                          <input\r\n                            onChange={(e) => setAddress2(e.target.value)}\r\n                            className={`form-control `}\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            value={address2}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Address-3 <span className=\"login-danger\">*</span>\r\n                          </label>\r\n\r\n                          <input\r\n                            value={address3}\r\n                            className={`form-control`}\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            onChange={(e) => setAddress3(e.target.value)}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Pincode <span className=\"login-danger\">*</span>\r\n                          </label>\r\n\r\n                          <input\r\n                            value={pincode}\r\n                            className={`form-control`}\r\n                            type=\"number\"\r\n                            placeholder=\"\"\r\n                            onChange={(e) => setPincode(e.target.value)}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group select-gender\">\r\n                          <label className=\"gen-label\">\r\n                            Gender<span className=\"login-danger\">*</span>\r\n                          </label>\r\n                          <div className=\"form-check-inline\">\r\n                            <label className=\"form-check-label\">\r\n                              <input\r\n                                type=\"radio\"\r\n                                name={gender}\r\n                                className=\"form-check-input mt-0\"\r\n                                value=\"Male\"\r\n                                onChange={(e) => setGender(e.target.value)}\r\n                                checked={gender === \"Male\"}\r\n                              />\r\n                              Male\r\n                            </label>\r\n                          </div>\r\n                          <div className=\"form-check-inline\">\r\n                            <label className=\"form-check-label\">\r\n                              <input\r\n                                type=\"radio\"\r\n                                name={gender}\r\n                                className=\"form-check-input mt-0\"\r\n                                value=\"Female\"\r\n                                onChange={(e) => setGender(e.target.value)}\r\n                                checked={gender === \"Female\"}\r\n                              />\r\n                              Female\r\n                            </label>\r\n                          </div>\r\n                          <div className=\"form-check-inline\">\r\n                            <label className=\"form-check-label\">\r\n                              <input\r\n                                type=\"radio\"\r\n                                name={gender}\r\n                                className=\"form-check-input mt-0\"\r\n                                value=\"Others\"\r\n                                onChange={(e) => setGender(e.target.value)}\r\n                                checked={gender === \"Others\"}\r\n                              />\r\n                              Others\r\n                            </label>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Email <span className=\"login-danger\">*</span>\r\n                          </label>\r\n\r\n                          <input\r\n                            value={email}\r\n                            className={`form-control`}\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Phone <span className=\"login-danger\">*</span>\r\n                          </label>\r\n\r\n                          <input\r\n                            value={phone}\r\n                            className={`form-control`}\r\n                            type=\"number\"\r\n                            placeholder=\"\"\r\n                            onChange={(e) => {\r\n                              const onlyNumbers = e.target.value.replace(/[^0-9]/g, ''); // Remove non-numeric characters\r\n                              if (onlyNumbers.length <= 10) {\r\n                              setPhone(onlyNumbers);\r\n                              }\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Bank <span className=\"login-danger\">*</span>\r\n                          </label>\r\n\r\n                          <input\r\n                            onChange={(e) => setBank(e.target.value)}\r\n                            className={`form-control`}\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            value={bank}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Account No<span className=\"login-danger\">*</span>\r\n                          </label>\r\n\r\n                          <input\r\n                            onChange={(e) => setAccountno(e.target.value)}\r\n                            className={`form-control`}\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            value={accountNo}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Branch<span className=\"login-danger\">*</span>\r\n                          </label>\r\n\r\n                          <input\r\n                            onChange={(e) => setBranch(e.target.value)}\r\n                            className={`form-control`}\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            value={branch}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            IFSC<span className=\"login-danger\">*</span>\r\n                          </label>\r\n\r\n                          <input\r\n                            onChange={(e) => setIfsc(e.target.value)}\r\n                            className={`form-control `}\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            value={ifsc}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            PAN No<span className=\"login-danger\">*</span>\r\n                          </label>\r\n\r\n                          <input\r\n                            onChange={(e) => setPanNo(e.target.value)}\r\n                            className={`form-control `}\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            value={panNo}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Pan Name<span className=\"login-danger\">*</span>\r\n                          </label>\r\n\r\n                          <input\r\n                            onChange={(e) => setPanName(e.target.value)}\r\n                            className={`form-control `}\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            value={panName}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Guardian Name<span className=\"login-danger\">*</span>\r\n                          </label>\r\n\r\n                          <input\r\n                            onChange={(e) => setGuardianName(e.target.value)}\r\n                            className={`form-control`}\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            value={guardianname}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Date Of Joining\r\n                            <span className=\"login-danger\">*</span>\r\n                          </label>\r\n\r\n                          <input\r\n                            onChange={(e) => setDateOfJoining(e.target.value)}\r\n                            className={`form-control `}\r\n                            type=\"date\"\r\n                            placeholder=\"\"\r\n                            value={dateOfJoining}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-12 col-md-6 col-xl-4\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Date Of Birth<span className=\"login-danger\">*</span>\r\n                          </label>\r\n\r\n                          <input\r\n                            className={`form-control`}\r\n                            type=\"date\"\r\n                            placeholder=\"\"\r\n                            value={dateOfBirth}\r\n                            onChange={(e) => setDateOfBirth(e.target.value)}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div className=\"col-12 col-md-6 col-xl-4\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Age Of Retirement<span className=\"login-danger\">*</span>\r\n                          </label>\r\n\r\n                          <input\r\n                            className={`form-control`}\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            value={ageOfRetierment}\r\n                            onChange={(e) => setAgeOfRetierment(e.target.value)}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-12 col-md-6 col-xl-4\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Date Of Retirement<span className=\"login-danger\">*</span>\r\n                          </label>\r\n\r\n                          <input\r\n                            className={`form-control`}\r\n                            type=\"date\"\r\n                            placeholder=\"\"\r\n                            value={dateOfRetierment}\r\n                            onChange={(e) => setDateOfRetierment(e.target.value)}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Basic Salary<span className=\"login-danger\">*</span>\r\n                          </label>\r\n                          <input\r\n                            className=\"form-control\"\r\n                            type=\"number\"\r\n                            placeholder=\"\"\r\n                            value={basicSalary}\r\n                            onChange={(e) => handleBasicSalaryChange(e.target.value)}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n\t\t\t\t\t            <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                           Allowed Leave<span className=\"login-danger\">*</span>\r\n                          </label>\r\n                          <input\r\n                            className=\"form-control\"\r\n                            type=\"number\"\r\n                            placeholder=\"\"\r\n                            value={allowedleave}\r\n                            onChange={(e) => setAllowedLeave(e.target.value)}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Universal Account Number\r\n                            <span className=\"login-danger\">*</span>\r\n                          </label>\r\n                          <input\r\n                            onChange={(e) => setUniversalAcNo(e.target.value)}\r\n                            className={`form-control`}\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            value={universalAcNo}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Ip Number\r\n                            <span className=\"login-danger\">*</span>\r\n                          </label>\r\n                          <input\r\n                            onChange={(e) => {\r\n                              const Ipnumbers = e.target.value \r\n                              if (Ipnumbers.length <= 10) {\r\n                                setIPNumber(Ipnumbers);\r\n                              }\r\n                            }}\r\n                            className={`form-control`}\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            value={Ipnumber}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            City <span className=\"login-danger\">*</span>\r\n                          </label>\r\n                          <input\r\n                            onChange={(e) => setCity(e.target.value)}\r\n                            className={`form-control`}\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            value={city}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Country <span className=\"login-danger\">*</span>\r\n                          </label>\r\n                          <input\r\n                            onChange={(e) => setCountry(e.target.value)}\r\n                            className={`form-control`}\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            value={country}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-12 col-md-6 col-xl-6\">\r\n                        <div className=\"form-group local-forms\">\r\n                          <label>\r\n                            Password <span className=\"login-danger\">*</span>\r\n                          </label>\r\n                          <input\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            className={`form-control`}\r\n                            type=\"text\"\r\n                            placeholder=\"\"\r\n                            value={password}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"row\">\r\n                        {salarycomponent&&\r\n                        <div className=\"col-md-12\">\r\n                          <div className=\"card invoices-add-card\">\r\n                            <div className=\"card-body\">\r\n                              <div className=\"invoice-add-table\">\r\n                                <h4>Salary component</h4>\r\n                                <div className=\"table-responsive\">\r\n                                  <table className=\"table table-striped table-nowrap  mb-0 no-footer add-table-items\">\r\n                                    <thead>\r\n                                      <tr>\r\n                                        <th>No</th>\r\n                                        <th>Salary Components</th>\r\n                                        <th>%</th>\r\n                                        <th>Value</th>\r\n                                        <th>Total</th>\r\n                                        <th></th>\r\n                                      </tr>\r\n                                    </thead>\r\n                                    {salarymasterData[0]&&  <tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={1454}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" value={ 1} readOnly \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setRowId1(e.target.value)}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<select className=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// onKeyDown={handlesalarymasterclick}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// onMouseEnter={handlesalarymasterclick}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => handlesalarymasterchange(event, index)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option value={salarymasterData[0]._id} key={salarymasterData[0]._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{salarymasterData[0].name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control `}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"%\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// onChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={DAPercentage}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// value={row.percentage ? row.percentage : ''}\r\n                                                                        onChange={(e)=>handleDAPercentage(e)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={DAValue ? DAValue : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => handleDAValue( e)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t value={DAPrice?DAPrice:''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t readOnly/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"add-remove text-end\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t      \t\t</tbody>}\r\n                                  {salarymasterData[0]&&\t<tbody>\r\n                                  <tr key={235435}>\r\n                                    <td>\r\n                                    <input type=\"text\" className=\"form-control\" value={ 2 } readOnly \r\n                                    onChange={(e) => setRowId2(e.target.value)}/>\r\n                                    </td>\r\n                                    <td>\r\n                                    <select className=\"form-control\"\r\n                                    // onKeyDown={handlesalarymasterclick}\r\n                                    // onMouseEnter={handlesalarymasterclick}\r\n                                    onChange={(event) => handlesalarymasterchange(event, index)}\r\n                                    >\r\n                                    \r\n                                      \r\n                                        <option value={salarymasterData[1]._id} key={salarymasterData[0]._id}>\r\n                                          {salarymasterData[1].name}\r\n                                        </option>\r\n                                      \r\n                                      \r\n                                    </select>\r\n                                    </td>\r\n                                    \r\n                                    <td>\r\n                                    <input\r\n                                        \r\n                                        type=\"number\"\r\n                                        className={`form-control`}\r\n                                        placeholder=\"%\"\r\n                                        // onChange={handleChange}\r\n                                        value={IRPercentage}\r\n                                        // value={row.percentage ? row.percentage : ''}\r\n                                                                            onChange={(e) => handleIRPercentage(e)}\r\n                                        />\r\n                                      \r\n                                       \r\n                                  </td>\r\n                                    <td>\r\n                                    <input\r\n                                      type=\"text\"\r\n                                      className=\"form-control\"\r\n                                      value={IRValue}\r\n                                      onChange={(e) => handleIRValue(e)}\r\n                                      \r\n                                    />\r\n                                    </td>\r\n                                    <td>\r\n                                    <input type=\"text\" className=\"form-control\" \r\n                                    value={IRPrice?IRPrice:''}\r\n                                    readOnly/>\r\n                                    </td>\r\n                                    <td className=\"add-remove text-end\">\r\n                                    \r\n                                    \r\n                                    \r\n                                    </td>\r\n                                  </tr>\r\n                                </tbody>}\r\n                                    <tbody>\r\n                                      {tablerow.map((row, index) => (\r\n                                        <tr key={row.id}>\r\n                                          <td>\r\n                                            <input\r\n                                              type=\"text\"\r\n                                              className=\"form-control\"\r\n                                              value={index + 1}\r\n                                              readOnly\r\n                                            />\r\n                                          </td>\r\n                                          <td>\r\n                                            <select\r\n                                              className=\"form-control\"\r\n                                            //   onMouseEnter={\r\n                                            //     handlesalarymasterclick\r\n                                            //   }\r\n                                              onChange={(event) =>\r\n                                                handlesalarymasterchange(\r\n                                                  event,\r\n                                                  index\r\n                                                )\r\n                                              }\r\n                                            >\r\n                                              <option\r\n                                                value={row._id}\r\n                                                key={row._id}\r\n                                              >\r\n                                                {row.salaryComponent.name}\r\n                                              </option>\r\n                                              {salarymasterData.map(\r\n                                                (option) => (\r\n                                                  <option\r\n                                                    value={option._id}\r\n                                                    key={option._id}\r\n                                                  >\r\n                                                    {option.name}\r\n                                                  </option>\r\n                                                )\r\n                                              )}\r\n                                            </select>\r\n                                          </td>\r\n\r\n                                          <td>\r\n                                            <input\r\n                                              type=\"number\"\r\n                                              className={`form-control`}\r\n                                              placeholder=\"%\"\r\n                                              // onChange={handleChange}\r\n                                              // value={percentage}\r\n                                              value={\r\n                                                row.percentage\r\n                                                  ? row.percentage\r\n                                                  : \"\"\r\n                                              }\r\n                                              onChange={(e) =>\r\n                                                handleChange(\r\n                                                  index,\r\n                                                  e.target.value\r\n                                                )\r\n                                              }\r\n                                            />\r\n                                          </td>\r\n                                          <td>\r\n                                            <input\r\n                                              type=\"text\"\r\n                                              className=\"form-control\"\r\n                                              value={row.value ? row.value : \"\"}\r\n                                              onChange={(e) =>\r\n                                                handleSecondInputChange(\r\n                                                  index,\r\n                                                  e.target.value\r\n                                                )\r\n                                              }\r\n                                            />\r\n                                          </td>\r\n                                          <td>\r\n                                            <input\r\n                                              type=\"text\"\r\n                                              className=\"form-control\"\r\n                                              value={row.price ? row.price : \"\"}\r\n                                              readOnly\r\n                                            />\r\n                                          </td>\r\n                                          <td className=\"add-remove text-end\">\r\n                                            <a\r\n                                              href=\"javascript:void(0);\"\r\n                                              className=\"me-2\"\r\n                                              onClick={handleAddRow}\r\n                                            >\r\n                                              <i className=\"fas fa-plus-circle\"></i>\r\n                                            </a>\r\n\r\n                                            <a\r\n                                              href=\"javascript:void(0);\"\r\n                                              className=\"remove-btn\"\r\n                                              onClick={() =>\r\n                                                handleRemoveRow(row.id)\r\n                                              }\r\n                                            >\r\n                                              <i className=\"fa fa-trash-alt\"></i>\r\n                                            </a>\r\n                                          </td>\r\n                                        </tr>\r\n                                      ))}\r\n\r\n                                      {tablerow.length === 0 &&\r\n                                        setTablerow((prevRows) => [\r\n                                          ...prevRows,\r\n                                          {\r\n                                            id: tablerow.length+1,\r\n                                            salaryComponent: \"\",\r\n                                            percentage: \"\",\r\n                                            value: \"\",\r\n                                            price: \"\",\r\n                                          },\r\n                                        ])}\r\n                                    </tbody>\r\n                                    <tfoot>\r\n                                      <tr>\r\n                                        <td colSpan=\"5\" className=\"text-end\">\r\n                                          <strong>Total Amount:</strong>\r\n                                        </td>\r\n                                        <td>\r\n                                          <input\r\n                                            className=\"form-control\"\r\n                                            type=\"number\"\r\n                                           value={itemdata?.TotalSalary}\r\n                                            readOnly\r\n                                          />\r\n                                          {/* Display the total amount here */}\r\n                                          {/* You can use the 'calculateTotalAmount' function to get the total */}\r\n                                        </td>\r\n                                      </tr>\r\n                                    </tfoot>\r\n                                  </table>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>}\r\n                      </div>\r\n                      <div className=\"col-12\">\r\n                        <div className=\"doctor-submit text-end\">\r\n                          <button\r\n                            type=\"submit\"\r\n                            className=\"btn btn-primary submit-form me-2\"\r\n                          >\r\n                            Submit\r\n                          </button>\r\n                          <button\r\n                            type=\"submit\"\r\n                            className=\"btn btn-primary cancel-form\"\r\n                          >\r\n                            Cancel\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {employelist && (\r\n        <Employeemasterlist formdata={formdata} setformdata={setFormdata} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditEmployeeMaster;\r\n"
        }
    ]
}